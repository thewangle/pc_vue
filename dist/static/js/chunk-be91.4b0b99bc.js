(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-be91"],{"+UXW":function(t,e,a){"use strict";a.r(e);var i=a("14Xm"),n=a.n(i),s=a("gDS+"),l=a.n(s),o=a("P2sY"),r=a.n(o),c=a("D3Ub"),u=a.n(c),d=a("zK94"),p=a("+vOl"),f=a("X4fA"),m=a("vDqi"),v=a.n(m),_={name:"ActivityManage",directives:{waves:a("ZySA").a},filters:{statusFilter:function(t){return{1:"待审核",2:"准备中审核通过",3:"已开始进行中",4:"暂停",5:"结束已完成 ",6:"审核未通过"}[t]},activityFilter:function(t){return{1:"团队-基础版",2:"个人-基础版"}[t]},typeFilter:function(t){return{1:"选择题",2:"文字题",3:"图片题",4:"视频题",5:"语音题",6:"拍照题"}[t]},answerTypeFilter:function(t){return{1:"普通题",2:"关卡题",3:"团队限时题",4:"活动抢答题"}[t]},timeFilter:function(t){var e=new Date(1e3*t);return e.getFullYear()+"-"+((+e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-")+((+e.getDate()<10?"0"+e.getDate():e.getDate())+" ")+((+e.getHours()<10?"0"+e.getHours():e.getHours())+":")+((+e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":")+(+e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())}},data:function(){return{iconFilelist:[],bgFileList:[],taskQFileList:[],taskAFileList:[],list:null,listLoading:!1,listQuery:{type:null,agent_name:null,name:null,status:null},activities:[{label:"团队-基础版",key:1},{label:"个人-基础版",key:2}],status:[{label:"待审批",key:"1"},{label:"准备中",key:"2"},{label:"进行中",key:"3"},{label:"暂停中",key:"4"},{label:"已完成",key:"5"},{label:"未通过",key:"6"}],dialogFormVisible:!1,dialogFormDisable:!1,taskList:[],dialogTaskVisible:!1,dialogTaskTitle:"",dialogTaskType:"",dialogTaskImgVisible:!1,dialogTaskImageUrl:"",dialogCheckVisible:!1,dialogTitle:"",dialogType:"",dialogReasonVisible:!1,reason:"",dialogPayVisible:!1,activityInfo:{agentName:Object(f.b)(),type:"",coachId:"",name:"",keepTime:"",score:"",scoreType:"",scoreShowType:"",time:"",actDesc:"",bgImgUrl:"",iconUrl:"",price:"",check:""},activityId:null,taskInfo:{name:null,type:"1",desc:null,answer_type:"1",seq:null,question_img:null,options:{A:null,B:null,C:null,D:null},answer:[],answer2:"",answer_url:"",score:null,answer_limit:1},dialogImageUrl:"",dialogVisible:!1,dialogAnswerImageUrl:"",dialogAnswerImgVisible:!1,coachList:[],domain:"http://upload.qiniup.com/",qiniuAddress:"http://cdnimg.bxunion.com",checkInfo:{name:null,type:null,set_start_time:null,set_stop_time:null,money:null},pay_er_img:null,set_start_time:"",set_stop_time:""}},created:function(){this.init()},methods:{handleActivityChange:function(t){"2"===t&&(this.activityInfo.price=10,this.activityInfo.answer_limit=1),this.activityInfo.coachId=null},handleFileChange:function(t){var e=this,a=this.activityId,i=document.querySelector("#fileInput"),n=new FormData;n.append("file",i.files[0]),n.append("activity_id",a),v.a.post("/i/topteam/admin/importTask",n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){var i=t.data;0!==i.error_code?e.$message({message:i.error_msg,type:"error"}):(e.$message({message:"导入成功",type:"success"}),e._fetchTaskList(a))})},handleFilter:function(){this._fetchActivityList()},handleCreateActivity:function(){this.dialogFormVisible=!0},handleBgCardPreview:function(){this.dialogImageUrl=this.activityInfo.bgImgUrl,this.dialogVisible=!0},handleIconCardPreview:function(){this.dialogImageUrl=this.activityInfo.iconUrl,this.dialogVisible=!0},handleTaskImgPreview:function(){this.dialogTaskImageUrl=this.taskInfo.question_img,this.dialogTaskImgVisible=!0},handleAnswerImgPreview:function(){this.dialogAnswerImageUrl=this.taskInfo.answer_url,this.dialogAnswerImgVisible=!0},handleUpLoadBgImg:function(t){this._uploadQiNiu(t,"bgImg")},handleUpLoadIconImg:function(t){this._uploadQiNiu(t,"icon")},handleUpLoadTaksImg:function(t){this._uploadQiNiu(t,"task")},handleUpLoadAnswerImg:function(t){this._uploadQiNiu(t,"answer")},handelUpdateTaskSubmit:function(){var t=this;return u()(n.a.mark(function e(){var a,i,s,o,c,u;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.taskInfo,i=a.name,s=a.score,o=a.seq,c=a.answer_limit,i&&s&&o&&c){e.next=4;break}return t.$message({message:"必填项不能为空",type:"error"}),e.abrupt("return");case 4:if(u=r()({},t.taskInfo),Array.isArray(u.answer)&&(u.answer=l()(u.answer.sort())),u.options=l()(u.options),"2"!==u.type){e.next=12;break}if(u.answer2){e.next=11;break}return t.$message({message:"答案不能为空",type:"error"}),e.abrupt("return");case 11:u.answer=u.answer2;case 12:if("6"!==u.type){e.next=17;break}if(u.answer_url){e.next=16;break}return t.$message({message:"请上传拍照图片",type:"error"}),e.abrupt("return");case 16:u.answer=u.answer_url;case 17:return e.prev=17,e.next=20,Object(d.g)(l()(u));case 20:e.sent,t.$message({message:"修改成功",type:"success"}),e.next=26;break;case 24:e.prev=24,e.t0=e.catch(17);case 26:t.dialogTaskVisible=!1,t._fetchTaskList(t.activityId);case 28:case"end":return e.stop()}},e,t,[[17,24]])}))()},handleUpdateTask:function(t){console.log(t),this.dialogTaskType="edit",this.dialogTaskTitle="修改任务",this.dialogTaskVisible=!0,this.taskInfo.id=t.id,this.taskInfo.name=t.name,this.taskInfo.type=t.type,this.taskInfo.desc=t.task_desc,this.taskInfo.score=t.score,this.taskInfo.seq=t.seq,this.taskInfo.answer_limit=t.answer_limit,this.taskInfo.answer_type=t.answer_type,t.question_img&&(this.taskInfo.question_img=t.question_img,this.taskQFileList=[{name:t.name,url:t.question_img}]),"1"===t.type&&(this.taskInfo.answer=JSON.parse(t.answer),this.taskInfo.options={A:1,B:2,C:3,D:4}),"2"===t.type&&(this.taskInfo.answer2=t.answer),"4"!==t.type&&"5"!==t.type&&"6"!==t.type||(this.taskInfo.answer_url=t.answer,this.taskAFileList=[{name:t.name,url:t.answer}])},handleGobackActivityList:function(){this.handleClosePayDialog(),this.handleCloseCheckDialog()},handleGetPayEr:function(){var t=this;return u()(n.a.mark(function e(){var a,i,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0,"1"===t.checkInfo.type?a="team":"2"===t.checkInfo.type&&(a="person"),e.next=4,Object(d.d)({type_id:t.activityId,order_type:a});case 4:i=e.sent,s=i.data,t.pay_er_img="/i/topteam/api/getpayinfo?order_sn="+s.order_sn+"&pay_type=1";case 7:case"end":return e.stop()}},e,t)}))()},handleCheckPass:function(){this.dialogPayVisible=!0},handleClosePayDialog:function(){this.dialogPayVisible=!1,this.pay_er_img=""},handelAuditact:function(){this.dialogReasonVisible=!0},handleUpdateActivity:function(){var t=this;return u()(n.a.mark(function e(){var a,i,s,l,o,r,c,u,p,f,m,v,_,h,y,b,k,g,w,I,x,T;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.checkInfo.set_start_time=t.set_start_time/1e3,t.checkInfo.set_stop_time=t.set_stop_time/1e3,a=t.checkInfo,i=a.name,s=a.type,l=a.set_start_time,o=a.set_stop_time,i&&s&&l&&o){e.next=6;break}return t.$message({message:"必填项不能为空",type:"success"}),e.abrupt("return");case 6:return r={act_id:t.activityId,name:i,type:s,set_start_time:l,set_stop_time:o},e.prev=7,e.next=10,Object(d.l)(r);case 10:return t.$message({message:"修改成功",type:"success"}),e.next=13,Object(d.h)({act_id:t.activityId});case 13:return c=e.sent,e.next=16,t._fetchTaskList(t.activityId);case 16:u=c.data,p=u.name,f=u.type,m=u.set_start_time,v=u.set_stop_time,_=u.money,h=u.qcode_url,t.checkInfo={name:p,type:f,money:_,qcode_url:h},t.set_start_time=1e3*m,t.set_stop_time=1e3*v,t.checkInfo.set_start_time=1e3*m,t.checkInfo.set_stop_time=1e3*v,e.next=39;break;case 25:return e.prev=25,e.t0=e.catch(7),e.next=29,Object(d.h)({act_id:t.activityId});case 29:return y=e.sent,e.next=32,t._fetchTaskList(t.activityId);case 32:b=y.data,k=b.name,g=b.type,w=b.set_start_time,I=b.set_stop_time,x=b.money,T=b.qcode_url,t.checkInfo={name:k,type:g,money:x,qcode_url:T},t.set_start_time=1e3*w,t.set_stop_time=1e3*I,t.checkInfo.set_start_time=1e3*w,t.checkInfo.set_stop_time=1e3*I;case 39:case"end":return e.stop()}},e,t,[[7,25]])}))()},handleEditActivity:function(t){var e=this;return u()(n.a.mark(function a(){var i,s,l,o,r,c,u,p;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.activityId=t.id,a.next=3,Object(d.h)({act_id:t.id});case 3:return i=a.sent,a.next=6,e._fetchTaskList(t.id);case 6:s=i.data,l=s.name,o=s.type,r=s.set_start_time,c=s.set_stop_time,u=s.money,p=s.qcode_url,e.checkInfo={name:l,type:o,money:u,qcode_url:p},e.set_start_time=1e3*r,e.set_stop_time=1e3*c,e.checkInfo.set_start_time=1e3*r,e.checkInfo.set_stop_time=1e3*c,e.dialogCheckVisible=!0,e.dialogTitle="活动修改",e.dialogType="edit";case 16:case"end":return a.stop()}},a,e)}))()},handleShowActivityInfo:function(t){var e=this;return u()(n.a.mark(function a(){var i,s,l,o,r,c,u,p;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.activityId=t.id,a.next=3,Object(d.h)({act_id:t.id});case 3:return i=a.sent,a.next=6,e._fetchTaskList(t.id);case 6:s=i.data,l=s.name,o=s.type,r=s.set_start_time,c=s.set_stop_time,u=s.money,p=s.qcode_url,e.checkInfo={name:l,type:o,set_start_time:r,set_stop_time:c,money:u,qcode_url:p},e.dialogCheckVisible=!0,e.dialogTitle="活动查看",e.dialogType="show";case 12:case"end":return a.stop()}},a,e)}))()},handleCheckActivity:function(t){var e=this;return u()(n.a.mark(function a(){var i,s,l,o,r,c,u;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.activityId=t.id,a.next=3,Object(d.h)({act_id:t.id});case 3:return i=a.sent,a.next=6,e._fetchTaskList(t.id);case 6:s=i.data,l=s.name,o=s.type,r=s.set_start_time,c=s.set_stop_time,u=s.money,e.checkInfo={name:l,type:o,set_start_time:r,set_stop_time:c,money:u},e.dialogCheckVisible=!0,e.dialogTitle="活动审批",e.dialogType="check";case 12:case"end":return a.stop()}},a,e)}))()},handleCreateActivitySubmit:function(){this._addActivity()},handleCloseReasonDialog:function(){this.dialogReasonVisible=!1,this.reason=""},handleCloseDialog:function(){this.dialogFormDisable=!1,this.activityId=null,this.taskList=[],this._resetActivityInfo(),this._fetchActivityList()},handleOpenTaskDialog:function(){this.dialogTaskType="add",this.dialogTaskTitle="添加任务",this.dialogTaskVisible=!0},handleCloseTaskDialog:function(){this._resetTaskInfo(),this.dialogTaskVisible=!1},handleCloseCheckDialog:function(){this.dialogCheckVisible=!1,this.activityId=null,this.taskList=[],this._restCheckInfo(),this._fetchActivityList()},handleDeleteActivity:function(t){var e=this;this.$confirm("确认删除该活动？").then(function(){var a=u()(n.a.mark(function a(i){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(d.f)(t);case 2:return a.next=4,e._fetchActivityList();case 4:e.$message({message:"删除成功",type:"success"});case 5:case"end":return a.stop()}},a,e)}));return function(t){return a.apply(this,arguments)}}()).catch(function(t){})},handleClickTask:function(t){var e=this;this.$confirm("确认删除该任务？").then(function(){var a=u()(n.a.mark(function a(i){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(d.e)(t);case 2:return a.next=4,e._fetchTaskList(e.activityId);case 4:e.$message({message:"删除成功",type:"success"});case 5:case"end":return a.stop()}},a,e)}));return function(t){return a.apply(this,arguments)}}()).catch(function(t){})},handleCancelActivity:function(){var t=this;this.$confirm("确认不通过该活动？").then(function(){var e=u()(n.a.mark(function e(a){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.c)({activity_id:t.activityId,reason:t.reason});case 2:return t.handleCloseReasonDialog(),t.handleCloseCheckDialog(),e.next=6,t._fetchActivityList();case 6:t.$message({message:"审批成功",type:"success"});case 7:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(t){})},_uploadQiNiu:function(t,e){var a=this;return u()(n.a.mark(function i(){var s,l,o,r;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s={headers:{"Content-Type":"multipart/form-data"}},l="top-team"+Date.now()+Math.floor(100*Math.random())+t.file.name,i.next=4,a._fetchQiNiuToken();case 4:o=i.sent,(r=new FormData).append("file",t.file),r.append("token",o),r.append("key",l),v.a.post(a.domain,r,s).then(function(t){var i=a.qiniuAddress+"/"+t.data.key;"bgImg"===e&&(a.activityInfo.bgImgUrl=i),"icon"===e&&(a.activityInfo.iconUrl=i),"task"===e&&(a.taskInfo.question_img=i),"answer"===e&&(a.taskInfo.answer_url=i)});case 10:case"end":return i.stop()}},i,a)}))()},_fetchCoachList:function(){var t=this;return u()(n.a.mark(function e(){var a,i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.j)();case 2:a=e.sent,i=a.data,t.coachList=i;case 5:case"end":return e.stop()}},e,t)}))()},_fetchQiNiuToken:function(){var t=this;return u()(n.a.mark(function e(){var a,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.c)();case 2:return a=t.sent,i=a.data,t.abrupt("return",i);case 5:case"end":return t.stop()}},e,t)}))()},_addActivity:function(){var t=this;return u()(n.a.mark(function e(){var a,i,s,l,o,r,c,u,p,m,v,_,h,y,b,k;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},i=t.activityInfo,s=i.time,l=i.name,o=i.keepTime,r=i.score,c=i.coachId,u=i.actDesc,p=i.scoreType,m=i.scoreShowType,v=i.type,_=i.bgImgUrl,h=i.iconUrl,y=i.price,b=i.check,"1"!==v){e.next=8;break}if(s.length&&l&&o&&r&&c&&v){e.next=6;break}return t.$message({message:"必填项不能为空",type:"error"}),e.abrupt("return");case 6:e.next=11;break;case 8:if(s.length&&l&&v&&y&&_&&h){e.next=11;break}return t.$message({message:"必填项不能为空",type:"error"}),e.abrupt("return");case 11:return a.set_start_time=s[0]/1e3,a.set_stop_time=s[1]/1e3,a.agent_id=Object(f.a)(),a.name=l,a.keep_time=o,a.score=r,a.coach_id=c,a.act_desc=u,a.score_type=p,a.score_show_type=m,a.type=v,a.bg_img=_,a.icon=h,a.money=y,b&&(a.keep_time=0),"2"===a.type&&(a.score=0,a.coach_id=0,a.score_show_type=0),"1"===a.type&&(a.money=0),e.prev=28,e.next=31,Object(d.a)(a);case 31:return k=e.sent,t.dialogFormDisable=!0,t.activityId=k.data,e.next=36,t._fetchTaskList(k.data);case 36:t.$message({message:"创建成功",type:"success"}),e.next=44;break;case 39:return e.prev=39,e.t0=e.catch(28),t.handleCloseDialog(),e.next=44,t._fetchActivityList();case 44:case"end":return e.stop()}},e,t,[[28,39]])}))()},handelCreateTaskSubmit:function(){var t=this;return u()(n.a.mark(function e(){var a,i,s,o,c,u;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=62,i=t.taskInfo,s=i.name,o=i.score,c=i.seq,s&&o&&c){e.next=5;break}return t.$message({message:"必填项不能为空",type:"error"}),e.abrupt("return");case 5:if((u=r()({},t.taskInfo,{activity_id:a})).answer=l()(u.answer),u.options=l()(u.options),"2"!==u.type){e.next=13;break}if(u.answer2){e.next=12;break}return t.$message({message:"答案不能为空",type:"error"}),e.abrupt("return");case 12:u.answer=u.answer2;case 13:if("4"!==u.type){e.next=18;break}if(u.answer_url){e.next=17;break}return t.$message({message:"请上传视频",type:"error"}),e.abrupt("return");case 17:u.answer=u.answer_url;case 18:if("5"!==u.type){e.next=23;break}if(u.answer_url){e.next=22;break}return t.$message({message:"请上传音频",type:"error"}),e.abrupt("return");case 22:u.answer=u.answer_url;case 23:if("6"!==u.type){e.next=28;break}if(u.answer_url){e.next=27;break}return t.$message({message:"请上传拍照图片",type:"error"}),e.abrupt("return");case 27:u.answer=u.answer_url;case 28:return e.prev=28,e.next=31,Object(d.b)(l()(u));case 31:e.sent,t.$message({message:"添加成功",type:"success"}),e.next=37;break;case 35:e.prev=35,e.t0=e.catch(28);case 37:t.dialogTaskVisible=!1,t._fetchTaskList(a);case 39:case"end":return e.stop()}},e,t,[[28,35]])}))()},_fetchActivityList:function(){var t=this;return u()(n.a.mark(function e(){var a,i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.listLoading=!0,e.prev=1,e.next=4,Object(d.i)(t.listQuery);case 4:a=e.sent,i=a.data,t.listLoading=!1,t.list=i,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.listLoading=!1;case 13:case"end":return e.stop()}},e,t,[[1,10]])}))()},_fetchTaskList:function(t){var e=this;return u()(n.a.mark(function a(){var i,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(d.k)({activity_id:t});case 2:i=a.sent,(s=i.data)||(s=[]),e.taskList=s;case 6:case"end":return a.stop()}},a,e)}))()},_resetActivityInfo:function(){this.activityInfo={agentName:Object(f.b)(),type:"",coachId:"",name:"",keepTime:"",score:"",scoreType:"",scoreShowType:"",time:"",actDesc:"",bgImgUrl:"",iconUrl:"",price:"",check:""},this.iconFilelist=[],this.bgFileList=[]},_resetTaskInfo:function(){this.taskInfo={name:null,type:"1",desc:null,answer_type:"1",seq:null,question_img:null,options:{A:null,B:null,C:null,D:null},answer:[],answer2:"",answer_url:"",score:null,answer_limit:1},this.taskQFileList=[],this.taskAFileList=[]},_restCheckInfo:function(){this.checkInfo={name:null,activity_status:null,set_start_time:null,set_stop_time:null,money:null},this.set_start_time="",this.set_stop_time=""},init:function(){this._fetchCoachList(),this._fetchActivityList()}}},h=(a("hoD4"),a("KHd+")),y=Object(h.a)(_,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入运营商名称"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.listQuery.agent_name,callback:function(e){t.$set(t.listQuery,"agent_name",e)},expression:"listQuery.agent_name"}}),t._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入活动名称"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}}),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请选择活动类型",clearable:""},on:{change:t.handleFilter},model:{value:t.listQuery.type,callback:function(e){t.$set(t.listQuery,"type",e)},expression:"listQuery.type"}},t._l(t.activities,function(t){return a("el-option",{key:t.key,attrs:{label:t.label,value:t.key}})})),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请选择活动状态",clearable:""},on:{change:t.handleFilter},model:{value:t.listQuery.status,callback:function(e){t.$set(t.listQuery,"status",e)},expression:"listQuery.status"}},t._l(t.status,function(t){return a("el-option",{key:t.key,attrs:{label:t.label,value:t.key}})})),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("查询")]),t._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:t.handleCreateActivity}},[t._v("新增活动")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"运营商",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.agent_name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"活动名称","min-width":"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"游戏类型",width:"110px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("activityFilter")(e.row.type)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"活动封面",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{display:"block",width:"40px",height:"40px",margin:"0 auto"},attrs:{src:t.row.icon,alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"活动时间",align:"center",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.keep_time)+"分钟")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"初始分值",align:"center",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.score))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"活动状态","class-name":"status-col",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("statusFilter")(e.row.activity_status)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"130","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return["2"===e.row.activity_status||"6"===e.row.activity_status?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.handleEditActivity(e.row)}}},[t._v("修改")]):t._e(),t._v(" "),"1"!==e.row.activity_status?a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){t.handleShowActivityInfo(e.row)}}},[t._v("查看")]):t._e(),t._v(" "),"1"===e.row.activity_status?a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleCheckActivity(e.row)}}},[t._v("去审批")]):t._e(),t._v(" "),5===e.row.activity_status||"6"===e.row.activity_status?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDeleteActivity(e.row.id)}}},[t._v("删除")]):t._e()]}}])})],1),t._v(" "),a("el-dialog",{staticClass:"aDialog",attrs:{visible:t.dialogFormVisible,title:"新增活动"},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.handleCloseDialog}},[a("hr"),t._v(" "),a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.activityInfo,disabled:t.dialogFormDisable}},[a("el-form-item",{attrs:{label:"运营商名"}},[a("el-input",{attrs:{disabled:""},model:{value:t.activityInfo.agentName,callback:function(e){t.$set(t.activityInfo,"agentName",e)},expression:"activityInfo.agentName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"活动类型"}},[a("el-select",{on:{change:t.handleActivityChange},model:{value:t.activityInfo.type,callback:function(e){t.$set(t.activityInfo,"type",e)},expression:"activityInfo.type"}},[a("el-option",{attrs:{label:"团队-基础版",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"个人-基础版",value:"2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"选择教练"}},[a("el-select",{attrs:{disabled:!t.activityInfo.type||"2"===t.activityInfo.type},model:{value:t.activityInfo.coachId,callback:function(e){t.$set(t.activityInfo,"coachId",e)},expression:"activityInfo.coachId"}},t._l(t.coachList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"活动名称"}},[a("el-input",{model:{value:t.activityInfo.name,callback:function(e){t.$set(t.activityInfo,"name",e)},expression:"activityInfo.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"分值形式"}},[a("el-select",{model:{value:t.activityInfo.scoreType,callback:function(e){t.$set(t.activityInfo,"scoreType",e)},expression:"activityInfo.scoreType"}},[a("el-option",{attrs:{label:"积分",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"砖石",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"游戏币",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"花瓣",value:"4"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"可见分数"}},[a("el-select",{attrs:{disabled:!t.activityInfo.type||"2"===t.activityInfo.type},model:{value:t.activityInfo.scoreShowType,callback:function(e){t.$set(t.activityInfo,"scoreShowType",e)},expression:"activityInfo.scoreShowType"}},[a("el-option",{attrs:{label:"是",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"否",value:"2"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"起始分值"}},[a("el-input",{attrs:{disabled:!t.activityInfo.type||"2"===t.activityInfo.type,type:"number",min:"0"},model:{value:t.activityInfo.score,callback:function(e){t.$set(t.activityInfo,"score",e)},expression:"activityInfo.score"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"活动时长"}},[a("el-input",{attrs:{type:"number",min:"0"},model:{value:t.activityInfo.keepTime,callback:function(e){t.$set(t.activityInfo,"keepTime",e)},expression:"activityInfo.keepTime"}},["2"===t.activityInfo.type?a("el-checkbox",{attrs:{slot:"suffix"},slot:"suffix",model:{value:t.activityInfo.check,callback:function(e){t.$set(t.activityInfo,"check",e)},expression:"activityInfo.check"}},[t._v("长期")]):t._e()],1)],1),t._v(" "),"2"===t.activityInfo.type?a("el-form-item",{attrs:{label:"活动价格"}},[a("el-input",{attrs:{type:"number"},model:{value:t.activityInfo.price,callback:function(e){t.$set(t.activityInfo,"price",e)},expression:"activityInfo.price"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"起止时间"}},["2"!==t.activityInfo.type?a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"timestamp"},model:{value:t.activityInfo.time,callback:function(e){t.$set(t.activityInfo,"time",e)},expression:"activityInfo.time"}}):t._e(),t._v(" "),"2"===t.activityInfo.type?a("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"timestamp"},model:{value:t.activityInfo.time,callback:function(e){t.$set(t.activityInfo,"time",e)},expression:"activityInfo.time"}}):t._e()],1),t._v(" "),a("el-form-item",{attrs:{label:"活动描述"}},[a("el-input",{staticClass:"act-textarea",attrs:{autosize:{minRows:1},type:"textarea",maxlength:"300"},model:{value:t.activityInfo.actDesc,callback:function(e){t.$set(t.activityInfo,"actDesc",e)},expression:"activityInfo.actDesc"}})],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"活动封面"}},[a("el-upload",{attrs:{"http-request":t.handleUpLoadIconImg,"on-preview":t.handleIconCardPreview,limit:1,action:t.domain,"file-list":t.iconFilelist,"list-type":"picture-card"}},[a("el-button",[t._v("上传图片")])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{src:t.dialogImageUrl,width:"100%",alt:""}})])],1),t._v(" "),a("el-form-item",{attrs:{label:"活动背景"}},[a("el-upload",{attrs:{"http-request":t.handleUpLoadBgImg,"on-preview":t.handleBgCardPreview,limit:1,action:t.domain,"file-list":t.bgFileList,"list-type":"picture-card"}},[a("el-button",[t._v("上传图片")])],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleCreateActivitySubmit}},[t._v("创建活动")])],1)],1)],1),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"job-list"},[a("div",{staticClass:"job-title"},[a("h3",{staticStyle:{display:"inline-block"}},[t._v("任务列表")]),t._v(" "),a("div",{staticClass:"filePicker",staticStyle:{float:"right"},attrs:{disabled:!t.activityId}},[a("label",[t._v("导入任务")]),t._v(" "),a("input",{attrs:{id:"fileInput",disabled:!t.activityId,type:"file",name:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"},on:{change:t.handleFileChange}})]),t._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"20px"},attrs:{type:"primary"},on:{click:t.handleOpenTaskDialog}},[t._v("添加任务")])],1),t._v(" "),a("div",{staticClass:"job-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.taskList,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"题目标题",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"描述","min-width":"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.task_desc))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"答案",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.answer))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"题目类型",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("typeFilter")(e.row.type)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"分值",align:"center",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.score))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"答题类型",align:"center",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("answerTypeFilter")(e.row.answer_type)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"130","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.handleUpdateTask(e.row)}}},[t._v("修改")])]}}])})],1)],1)])],1),t._v(" "),a("el-dialog",{staticClass:"activityDialog",attrs:{visible:t.dialogTaskVisible,title:t.dialogTaskTitle},on:{"update:visible":function(e){t.dialogTaskVisible=e},close:t.handleCloseTaskDialog}},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:t.taskInfo}},[a("el-form-item",{attrs:{label:"题目标题","label-width":"100px"}},[a("el-input",{model:{value:t.taskInfo.name,callback:function(e){t.$set(t.taskInfo,"name",e)},expression:"taskInfo.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"题目类型","label-width":"100px"}},[a("el-select",{attrs:{disabled:"edit"===t.dialogTaskType},on:{change:function(e){t.taskInfo.answer_type="1"}},model:{value:t.taskInfo.type,callback:function(e){t.$set(t.taskInfo,"type",e)},expression:"taskInfo.type"}},[a("el-option",{attrs:{label:"选择题",value:"1"}}),t._v(" "),"1"===t.activityInfo.type||"1"===t.checkInfo.type?a("el-option",{attrs:{label:"文字题",value:"2"}}):t._e(),t._v(" "),a("el-option",{attrs:{label:"图片题",value:"3"}}),t._v(" "),"1"===t.activityInfo.type||"1"===t.checkInfo.type?a("el-option",{attrs:{label:"视频题",value:"4"}}):t._e(),t._v(" "),"1"===t.activityInfo.type||"1"===t.checkInfo.type?a("el-option",{attrs:{label:"语音题",value:"5"}}):t._e(),t._v(" "),"1"===t.activityInfo.type||"1"===t.checkInfo.type?a("el-option",{attrs:{label:"拍照题",value:"6"}}):t._e()],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"题目描述","label-width":"100px"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.taskInfo.desc,callback:function(e){t.$set(t.taskInfo,"desc",e)},expression:"taskInfo.desc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"题目分值","label-width":"100px"}},[a("el-input",{attrs:{type:"number"},model:{value:t.taskInfo.score,callback:function(e){t.$set(t.taskInfo,"score",e)},expression:"taskInfo.score"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"答题类型","label-width":"100px"}},[a("el-select",{attrs:{disabled:"edit"===t.dialogTaskType},model:{value:t.taskInfo.answer_type,callback:function(e){t.$set(t.taskInfo,"answer_type",e)},expression:"taskInfo.answer_type"}},[a("el-option",{attrs:{label:"普通题",value:"1"}}),t._v(" "),"1"===t.taskInfo.type||"3"===t.taskInfo.type?a("el-option",{attrs:{label:"关卡题",value:"2"}}):t._e(),t._v(" "),"1"!==t.activityInfo.type&&"1"!==t.checkInfo.type||"1"!==t.taskInfo.type&&"3"!==t.taskInfo.type?t._e():a("el-option",{attrs:{label:"团队限时题",value:"3"}}),t._v(" "),"1"!==t.activityInfo.type&&"1"!==t.checkInfo.type||"1"!==t.taskInfo.type&&"3"!==t.taskInfo.type?t._e():a("el-option",{attrs:{label:"活动抢答题",value:"4"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"题目顺序","label-width":"100px"}},[a("el-input",{attrs:{type:"number"},model:{value:t.taskInfo.seq,callback:function(e){t.$set(t.taskInfo,"seq",e)},expression:"taskInfo.seq"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"答题人数","label-width":"100px"}},[a("el-input",{attrs:{type:"number",disabled:"2"===t.activityInfo.type},model:{value:t.taskInfo.answer_limit,callback:function(e){t.$set(t.taskInfo,"answer_limit",e)},expression:"taskInfo.answer_limit"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"题目图片","label-width":"100px"}},[a("el-upload",{attrs:{"http-request":t.handleUpLoadTaksImg,"on-preview":t.handleTaskImgPreview,limit:1,action:t.domain,"file-list":t.taskQFileList,"list-type":"picture-card"}},[a("el-button",[t._v("上传图片")])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogTaskImgVisible},on:{"update:visible":function(e){t.dialogTaskImgVisible=e}}},[a("img",{attrs:{src:t.dialogTaskImageUrl,width:"100%",alt:""}})])],1),t._v(" "),"1"===t.taskInfo.type?[a("el-form-item",{attrs:{label:"题目选项","label-width":"100px"}},[a("el-input",{attrs:{placeholder:"请输入选项内容"},model:{value:t.taskInfo.options.A,callback:function(e){t.$set(t.taskInfo.options,"A",e)},expression:"taskInfo.options.A"}},[a("template",{slot:"prepend"},[t._v("A")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入选项内容"},model:{value:t.taskInfo.options.B,callback:function(e){t.$set(t.taskInfo.options,"B",e)},expression:"taskInfo.options.B"}},[a("template",{slot:"prepend"},[t._v("B")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入选项内容"},model:{value:t.taskInfo.options.C,callback:function(e){t.$set(t.taskInfo.options,"C",e)},expression:"taskInfo.options.C"}},[a("template",{slot:"prepend"},[t._v("C")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入选项内容"},model:{value:t.taskInfo.options.D,callback:function(e){t.$set(t.taskInfo.options,"D",e)},expression:"taskInfo.options.D"}},[a("template",{slot:"prepend"},[t._v("D")])],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"答案","label-width":"100px"}},[a("el-checkbox-group",{model:{value:t.taskInfo.answer,callback:function(e){t.$set(t.taskInfo,"answer",e)},expression:"taskInfo.answer"}},[a("el-checkbox",{attrs:{label:"A"}}),t._v(" "),a("el-checkbox",{attrs:{label:"B"}}),t._v(" "),a("el-checkbox",{attrs:{label:"C"}}),t._v(" "),a("el-checkbox",{attrs:{label:"D"}})],1)],1)]:t._e(),t._v(" "),"2"===t.taskInfo.type?[a("el-form-item",{attrs:{label:"答案","label-width":"100px"}},[a("el-input",{model:{value:t.taskInfo.answer2,callback:function(e){t.$set(t.taskInfo,"answer2",e)},expression:"taskInfo.answer2"}})],1)]:t._e(),t._v(" "),"3"===t.taskInfo.type?void 0:t._e(),t._v(" "),"4"===t.taskInfo.type?[a("el-form-item",{attrs:{label:"题目视频","label-width":"100px"}},[a("el-upload",{attrs:{"http-request":t.handleUpLoadAnswerImg,"on-preview":t.handleAnswerImgPreview,limit:1,action:t.domain,"file-list":t.taskAFileList}},[a("el-button",[t._v("上传视频")])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogAnswerImgVisible},on:{"update:visible":function(e){t.dialogAnswerImgVisible=e}}},[a("video",{attrs:{src:t.dialogAnswerImageUrl,controls:"",autoplay:"",width:"100%"}})])],1)]:t._e(),t._v(" "),"5"===t.taskInfo.type?[a("el-form-item",{attrs:{label:"题目语音","label-width":"100px"}},[a("el-upload",{attrs:{"http-request":t.handleUpLoadAnswerImg,"on-preview":t.handleAnswerImgPreview,limit:1,action:t.domain,"file-list":t.taskAFileList}},[a("el-button",[t._v("上传音频")])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogAnswerImgVisible},on:{"update:visible":function(e){t.dialogAnswerImgVisible=e}}},[a("video",{attrs:{src:t.dialogAnswerImageUrl,controls:"",autoplay:"",width:"100%"}})])],1)]:t._e(),t._v(" "),"6"===t.taskInfo.type?[a("el-form-item",{attrs:{label:"拍照图片","label-width":"100px"}},[a("el-upload",{attrs:{"http-request":t.handleUpLoadAnswerImg,"on-preview":t.handleAnswerImgPreview,limit:1,action:t.domain,"file-list":t.taskAFileList,"list-type":"picture-card"}},[a("el-button",[t._v("上传图片")])],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogAnswerImgVisible},on:{"update:visible":function(e){t.dialogAnswerImgVisible=e}}},[a("img",{attrs:{src:t.dialogAnswerImageUrl,width:"100%",alt:""}})])]:t._e(),t._v(" "),a("el-form-item",[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{on:{click:t.handleCloseTaskDialog}},[t._v("取消")]),t._v(" "),"add"===t.dialogTaskType?a("el-button",{attrs:{type:"primary"},on:{click:t.handelCreateTaskSubmit}},[t._v("添加题目")]):t._e(),t._v(" "),"edit"===t.dialogTaskType?a("el-button",{attrs:{type:"primary"},on:{click:t.handelUpdateTaskSubmit}},[t._v("修改题目")]):t._e()],1)])],2)],1),t._v(" "),a("el-dialog",{staticClass:"activityDialog",attrs:{visible:t.dialogCheckVisible,fullscreen:""},on:{"update:visible":function(e){t.dialogCheckVisible=e},close:t.handleCloseCheckDialog}},[a("hr"),t._v(" "),a("div",{attrs:{slot:"title"},slot:"title"},[a("h3",[t._v("\n        "+t._s(t.dialogTitle)+"\n        "),"check"===t.dialogType?a("el-button",{on:{click:t.handelAuditact}},[t._v("不通过")]):t._e(),t._v(" "),"check"===t.dialogType?a("el-button",{attrs:{type:"primary"},on:{click:t.handleCheckPass}},[t._v("通过")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"info clearfix"},[a("div",{staticClass:"info-tab-left",staticStyle:{width:"50%",float:"left"}},[a("h4",[t._v("活动信息")]),t._v(" "),a("el-form",{model:{value:t.checkInfo,callback:function(e){t.checkInfo=e},expression:"checkInfo"}},[a("el-form-item",{attrs:{label:"活动名称","label-width":"100px"}},[a("span",[t._v(t._s(t.checkInfo.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"活动类型","label-width":"100px"}},[a("span",[t._v(t._s(t._f("activityFilter")(t.checkInfo.type)))])]),t._v(" "),a("el-form-item",{attrs:{label:"开始时间","label-width":"100px"}},[a("span",[t._v(t._s(t._f("timeFilter")(t.checkInfo.set_start_time)))])]),t._v(" "),a("el-form-item",{attrs:{label:"开始时间","label-width":"100px"}},[a("span",[t._v(t._s(t._f("timeFilter")(t.checkInfo.set_stop_time)))]),t._v(" "),"edit"===t.dialogType?a("el-button",{attrs:{type:"primary"},on:{click:t.handleUpdateActivity}},[t._v("修改活动")]):t._e()],1)],1)],1),t._v(" "),a("div",{staticClass:"info-tab-right",staticStyle:{width:"50%",float:"right"}},[a("h4",[t._v("活动二维码")]),t._v(" "),a("div",{staticClass:"er-img",staticStyle:{width:"160px",height:"160px",margin:"0 auto",border:"1px solid #ccc","margin-top":"20px"}},[t.checkInfo.qcode_url?t._e():a("span",{staticStyle:{color:"red","font-size":"18px"}},[t._v("活动审批完成后创建二维码")]),t._v(" "),a("img",{staticStyle:{height:"158px",width:"158px"},attrs:{src:t.checkInfo.qcode_url,alt:""}}),t._v(" "),a("p",{staticStyle:{"text-align":"center",color:"red","font-weight":"500"}},[t._v(t._s(t.checkInfo.name))])])])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"job-list"},[a("div",{staticClass:"job-title"},[a("h3",{staticStyle:{display:"inline-block"}},[t._v("任务列表")])]),t._v(" "),a("div",{staticClass:"job-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.taskList,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",align:"center",width:"65"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"题目标题",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"描述","min-width":"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.task_desc))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"答案",width:"150px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.answer))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"题目类型",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("typeFilter")(e.row.type)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"分值",align:"center",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.score))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"答题类型",align:"center",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("answerTypeFilter")(e.row.answer_type)))])]}}])}),t._v(" "),"edit"==t.dialogType?a("el-table-column",{attrs:{label:"操作",align:"center","min-width":"130","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){t.handleUpdateTask(e.row)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(a){t.handleClickTask(e.row.id)}}},[t._v("删除")])]}}])}):t._e()],1)],1)])]),t._v(" "),a("el-dialog",{staticClass:"activityDialog",attrs:{visible:t.dialogReasonVisible,title:"不通过原因"},on:{"update:visible":function(e){t.dialogReasonVisible=e},close:t.handleCloseReasonDialog}},[a("el-form",[a("el-form-item",[a("el-input",{attrs:{type:"textarea"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),t._v(" "),a("el-form-item",[a("el-button",{on:{click:t.handleCloseReasonDialog}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleCancelActivity}},[t._v("确认")])],1)],1)],1),t._v(" "),a("el-dialog",{staticClass:"activityDialog",attrs:{visible:t.dialogPayVisible,title:"活动付费(点击确定扫描右侧二维码)"},on:{"update:visible":function(e){t.dialogPayVisible=e},close:t.handleClosePayDialog}},[a("hr"),t._v(" "),a("div",{staticClass:"clearfix"},[a("div",{staticStyle:{float:"left"}},[a("el-form",{model:{value:t.checkInfo,callback:function(e){t.checkInfo=e},expression:"checkInfo"}},[a("el-form-item",{attrs:{label:"支付方式","label-width":"100px"}},[a("span",[t._v("微信支付")])]),t._v(" "),a("el-form-item",{attrs:{label:"活动名称","label-width":"100px"}},[a("span",[t._v(t._s(t.checkInfo.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"活动类型","label-width":"100px"}},[a("span",[t._v(t._s(t._f("activityFilter")(t.checkInfo.type)))])]),t._v(" "),a("el-form-item",{attrs:{label:"活动金额","label-width":"100px"}},[a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.checkInfo.money/100)+"元")])])],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleGetPayEr}},[t._v("确定")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleGobackActivityList}},[t._v("支付完成返回列表")])],1)],1),t._v(" "),a("div",{staticStyle:{float:"right",width:"50%"}},[a("div",{staticClass:"er",staticStyle:{height:"180px",width:"180px",margin:"0 auto","margin-top":"40px"}},[a("img",{attrs:{src:t.pay_er_img,alt:""}})])])])])],1)},[],!1,null,null,null);y.options.__file="activityManage.vue";e.default=y.exports},NhRW:function(t,e,a){},ZySA:function(t,e,a){"use strict";var i=a("P2sY"),n=a.n(i),s=(a("jUE0"),{bind:function(t,e){t.addEventListener("click",function(a){var i=n()({},e.value),s=n()({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),l=s.ele;if(l){l.style.position="relative",l.style.overflow="hidden";var o=l.getBoundingClientRect(),r=l.querySelector(".waves-ripple");switch(r?r.className="waves-ripple":((r=document.createElement("span")).className="waves-ripple",r.style.height=r.style.width=Math.max(o.width,o.height)+"px",l.appendChild(r)),s.type){case"center":r.style.top=o.height/2-r.offsetHeight/2+"px",r.style.left=o.width/2-r.offsetWidth/2+"px";break;default:r.style.top=(a.pageY-o.top-r.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",r.style.left=(a.pageX-o.left-r.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return r.style.backgroundColor=s.color,r.className="waves-ripple z-active",!1}},!1)}}),l=function(t){t.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(l)),s.install=l;e.a=s},"gDS+":function(t,e,a){t.exports={default:a("oh+g"),__esModule:!0}},hoD4:function(t,e,a){"use strict";var i=a("NhRW");a.n(i).a},jUE0:function(t,e,a){},"oh+g":function(t,e,a){var i=a("WEpk"),n=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},zK94:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"i",function(){return s}),a.d(e,"j",function(){return l}),a.d(e,"f",function(){return o}),a.d(e,"k",function(){return r}),a.d(e,"b",function(){return c}),a.d(e,"h",function(){return u}),a.d(e,"c",function(){return d}),a.d(e,"d",function(){return p}),a.d(e,"l",function(){return f}),a.d(e,"e",function(){return m}),a.d(e,"g",function(){return v});var i=a("t3Un");function n(t){return Object(i.a)({url:"/i/topteam/admin/addactivity",method:"post",data:t})}function s(t){return Object(i.a)({url:"/i/topteam/admin/GetActivityList",method:"post",data:t})}function l(){return Object(i.a)({url:"/i/topteam/admin/getcoachlist",method:"get"})}function o(t){return Object(i.a)({url:"/i/topteam/admin/delactivity?act_id="+t,method:"get"})}function r(t){return Object(i.a)({url:"/i/topteam/admin/GetTaskList",method:"post",data:t})}function c(t){return Object(i.a)({url:"i/topteam/admin/addTask",method:"post",data:t})}function u(t){return Object(i.a)({url:"/i/topteam/admin/getactivityinfo",method:"post",data:t})}function d(t){return Object(i.a)({url:"/i/topteam/admin/auditact",method:"post",data:t})}function p(t){return Object(i.a)({url:"/i/topteam/api/createorder",method:"post",data:t})}function f(t){return Object(i.a)({url:"/i/topteam/admin/updateactivity",method:"post",data:t})}function m(t){return Object(i.a)({url:"/i/topteam/admin/delTask?id="+t,method:"get"})}function v(t){return Object(i.a)({url:"/i/topteam/admin/ModifyTask",method:"post",data:t})}}}]);