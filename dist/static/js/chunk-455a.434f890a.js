(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-455a"],{"Of/6":function(e,t,a){},ZySA:function(e,t,a){"use strict";var n=a("P2sY"),l=a.n(n),i=(a("jUE0"),{bind:function(e,t){e.addEventListener("click",function(a){var n=l()({},t.value),i=l()({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),r=i.ele;if(r){r.style.position="relative",r.style.overflow="hidden";var s=r.getBoundingClientRect(),o=r.querySelector(".waves-ripple");switch(o?o.className="waves-ripple":((o=document.createElement("span")).className="waves-ripple",o.style.height=o.style.width=Math.max(s.width,s.height)+"px",r.appendChild(o)),i.type){case"center":o.style.top=s.height/2-o.offsetHeight/2+"px",o.style.left=s.width/2-o.offsetWidth/2+"px";break;default:o.style.top=(a.pageY-s.top-o.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",o.style.left=(a.pageX-s.left-o.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return o.style.backgroundColor=i.color,o.className="waves-ripple z-active",!1}},!1)}}),r=function(e){e.directive("waves",i)};window.Vue&&(window.waves=i,Vue.use(r)),i.install=r;t.a=i},cSYd:function(e,t,a){"use strict";var n=a("Of/6");a.n(n).a},eCXq:function(e,t,a){"use strict";a.r(t);var n=a("14Xm"),l=a.n(n),i=a("P2sY"),r=a.n(i),s=a("D3Ub"),o=a.n(s),u=a("j2BA"),c={name:"Show",directives:{waves:a("ZySA").a},filters:{timeFilter:function(e){if(0==+e)return"无";var t=new Date(1e3*e);return t.getFullYear()+"-"+((+t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+((+t.getDate()<10?"0"+t.getDate():t.getDate())+" ")+((+t.getHours()<10?"0"+t.getHours():t.getHours())+":")+((+t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":")+(+t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())},payTypeFilter:function(e){return"1"===e?"微信":"4"===e?"余额":void 0}},data:function(){return{list:null,total:null,listLoading:!1,listQuery:{page_no:1,page_size:20,agent_name:void 0,agent_type:"",dateValue:[],start_time:"",end_time:""},dialogTotal:null,dilogQuery:{page_no:1,page_size:10,agent_id:""},status:[{label:"代理商",key:1},{label:"运营商",key:2}],dialogInfoVisible:!1,gridData:[]}},created:function(){var e=(new Date).getTime()-2592e6,t=(new Date).getTime();this.listQuery.start_time=e,this.listQuery.end_time=t,this.listQuery.dateValue=[e,t],this._fetchCountList()},methods:{handleFilter:function(){this.listQuery.page_no=1,this._fetchCountList()},handleSizeChange:function(e){this.listQuery.page_size=e,this._fetchCountList()},handleCurrentChange:function(e){this.listQuery.page_no=e,this._fetchCountList()},handledialogCurrentChange:function(e){this.dilogQuery.page_no=e,this._fetactlist()},handleUpdate:function(e,t){this.dilogQuery.agent_id=e.id,"info"===t&&(this.dialogInfoVisible=!0),this._fetactlist()},_fetactlist:function(){var e=this;return o()(l.a.mark(function t(){var a,n,i,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.listQuery.dateValue[0]||(new Date).getTime()-2592e6,n=e.listQuery.dateValue[1]||(new Date).getTime(),(i=r()({},e.dilogQuery)).start_time=Math.floor(a/1e3),i.end_time=Math.floor(n/1e3),t.prev=5,t.next=8,Object(u.c)(i);case 8:s=t.sent,e.gridData=s.data.data,e.dialogTotal=s.data.total,t.next=15;break;case 13:t.prev=13,t.t0=t.catch(5);case 15:case"end":return t.stop()}},t,e,[[5,13]])}))()},_fetchCountList:function(){var e=this;return o()(l.a.mark(function t(){var a,n,i,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.listQuery.dateValue[0]||(new Date).getTime()-2592e6,n=e.listQuery.dateValue[1]||(new Date).getTime(),e.listQuery.start_time=Math.floor(a/1e3),e.listQuery.end_time=Math.floor(n/1e3),(i=r()({},e.listQuery)).agent_type=i.agent_type||0,t.prev=6,t.next=9,Object(u.b)(i);case 9:s=t.sent,e.list=s.data.data,e.total=s.data.total,t.next=16;break;case 14:t.prev=14,t.t0=t.catch(6);case 16:case"end":return t.stop()}},t,e,[[6,14]])}))()}}},d=(a("cSYd"),a("KHd+")),p=Object(d.a)(c,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入代理商/运营商名称"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.listQuery.agent_name,callback:function(t){e.$set(e.listQuery,"agent_name",t)},expression:"listQuery.agent_name"}}),e._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp"},model:{value:e.listQuery.dateValue,callback:function(t){e.$set(e.listQuery,"dateValue",t)},expression:"listQuery.dateValue"}}),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"全部代理",clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.agent_type,callback:function(t){e.$set(e.listQuery,"agent_type",t)},expression:"listQuery.agent_type"}},e._l(e.status,function(e){return a("el-option",{key:e.key,attrs:{label:e.label,value:e.key}})})),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("查询")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.$index+1))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.type))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"活动场次",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.act_num))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"总计价格(元)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.total_price/100))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.handleUpdate(t.row,"info")}}},[e._v("查看")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.listQuery.page_no,"page-sizes":[10,20,30,50],"page-size":e.listQuery.page_size,total:e.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogInfoVisible,title:"财务统计查看","custom-class":"count-dialog"},on:{"update:visible":function(t){e.dialogInfoVisible=t}}},[a("el-table",{attrs:{data:e.gridData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"活动名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"活动次数"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.act_num))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"开始时间",width:"170px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("timeFilter")(t.row.set_start_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"结束时间",width:"170px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("timeFilter")(t.row.set_stop_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"活动价(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.price/100))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("payTypeFilter")(t.row.pay_type)))])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.dilogQuery.page_no,total:e.dialogTotal,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handledialogCurrentChange}})],1)],1)],1)},[],!1,null,null,null);p.options.__file="index.vue";t.default=p.exports},j2BA:function(e,t,a){"use strict";a.d(t,"b",function(){return l}),a.d(t,"c",function(){return i}),a.d(t,"a",function(){return r});var n=a("t3Un");function l(e){return Object(n.a)({url:"/i/topteam/admin/getuseracountlist",method:"post",data:e})}function i(e){return Object(n.a)({url:"/i/topteam/admin/getactpaylist",method:"post",data:e})}function r(e){return Object(n.a)({url:"/i/topteam/admin/getchargelist",method:"post",data:e})}},jUE0:function(e,t,a){}}]);