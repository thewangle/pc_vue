(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3e13"],{"68Bx":function(e,n,t){},bTmX:function(e,n,t){"use strict";var o=t("68Bx");t.n(o).a},c11S:function(e,n,t){"use strict";var o=t("fN6i");t.n(o).a},fN6i:function(e,n,t){},iVKg:function(e,n,t){"use strict";t.d(n,"k",function(){return r}),t.d(n,"j",function(){return a}),t.d(n,"a",function(){return s}),t.d(n,"b",function(){return u}),t.d(n,"c",function(){return c}),t.d(n,"l",function(){return l}),t.d(n,"f",function(){return d}),t.d(n,"g",function(){return m}),t.d(n,"h",function(){return w}),t.d(n,"i",function(){return f}),t.d(n,"d",function(){return g}),t.d(n,"e",function(){return p});var o=t("f0Pt"),i=t.n(o);function r(e){return i.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=login/login",e)}function a(e){return i.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=login/getuserinfo",e)}function s(e){return i.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=login/adduser",e)}function u(e){return i.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=login/deleuser",e)}function c(e){return i.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=login/editeuser",e)}function l(e){return i.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=login/renewalfee",e)}function d(e){return i.a.get("http://www.wuzhi1688.com/yii2/frontend/web/?r=login/getallusers")}function m(e){return i.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=login/getallusersbyid",e)}function w(e){return i.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=login/getallusersbyidmain",e)}function f(e){return i.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=login/getallusersbyidthis",e)}function g(e){return i.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=login/getalluser",e)}function p(e){return i.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=login/getalluserbyuid",e)}},ntYl:function(e,n,t){"use strict";t.r(n);var o=t("cLjf"),i=t.n(o),r=t("hDQ3"),a=t.n(r),s=t("3rzS"),u=t.n(s),c=(t("+vOl"),t("f0Pt"),t("dYX8"),t("a/LZ")),l=t.n(c),d=t("iVKg"),m=t("X4fA"),w={name:"Login",data:function(){return{user_record:!0,logins:"登录",loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:function(e,n,t){n.length<=0?t(new Error("请输入正确的用户名")):t()}}],password:[{required:!0,trigger:"blur",validator:function(e,n,t){n.length<6?t(new Error("请输入6位以上的密码")):t()}}]},passwordType:"password",loading:!1,showDialog:!1}},mounted:function(){this.getCookie();var e=document.getElementById("cas"),n=e.getContext("2d");function t(){e.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}t(),window.onresize=t;var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},i={x:null,y:null,max:2e4};window.onmousemove=function(e){e=e||window.event,i.x=e.clientX,i.y=e.clientY},window.onmouseout=function(e){i.x=null,i.y=null};for(var r=[],a=0;a<100;a++){var s=Math.random()*e.width,u=Math.random()*e.height,c=2*Math.random()-1,l=2*Math.random()-1;r.push({x:s,y:u,xa:c,ya:l,max:6e3})}function d(){n.clearRect(0,0,e.width,e.height);var t=[i].concat(r);r.forEach(function(o){o.x+=o.xa,o.y+=o.ya,o.xa*=o.x>e.width||o.x<0?-1:1,o.ya*=o.y>e.height||o.y<0?-1:1,n.fillRect(o.x-.5,o.y-.5,1,1);for(var r=0;r<t.length;r++){var a=t[r];if(o!==a&&null!==a.x&&null!==a.y){var s,u=o.x-a.x,c=o.y-a.y,l=u*u+c*c;l<a.max&&(a===i&&l>a.max/2&&(o.x-=.03*u,o.y-=.03*c),s=(a.max-l)/a.max,n.beginPath(),n.lineWidth=s/2,n.strokeStyle="rgba(255,255,255,"+(s+.2)+")",n.moveTo(o.x,o.y),n.lineTo(a.x,a.y),n.stroke())}}t.splice(t.indexOf(o),1)}),o(d)}setTimeout(function(){d()},100)},created:function(){},destroyed:function(){},methods:{btHover:function(){u()("#usernameInp").addClass("animated jello")},btblur:function(){u()("#usernameInp").removeClass("animated jello")},btHover1:function(){u()("#usernameInp1").addClass("animated jello")},btblur1:function(){u()("#usernameInp1").removeClass("animated jello")},getuser_name_pass:function(){this.loginForm.username=this.getUserName(),this.loginForm.password=this.getPassword()},setCookie:function(e,n,t){var o=new Date;o.setTime(o.getTime()+864e5*t),document.cookie="userName="+e+";path=/;expires="+o.toLocaleString(),document.cookie="userPwd="+n+";path=/;expires="+o.toLocaleString()},getCookie:function(){if(document.cookie.length>0)for(var e=document.cookie.split("; "),n=0;n<e.length;n++){var t=e[n].split("=");"userName"==t[0]?this.loginForm.username=t[1]:"userPwd"==t[0]&&(this.loginForm.password=t[1])}},clearCookie:function(){this.setCookie("","",-1)},showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},add_new_users:function(){this.$router.push({path:"/registered"})},handleLogin:function(){var e=this;this.user_record?this.setCookie(this.loginForm.username,this.loginForm.password,7):this.clearCookie(),this.$refs.loginForm.validate(function(){var n=a()(i.a.mark(function n(t){var o,r;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=e,!t){n.next=6;break}r={username:e.loginForm.username},Object(d.j)(r).then(function(n){var t=n.data;if(200==t.code){var i=l()(new Date).valueOf(),r=l()(t.data.addtime).valueOf();if(0!=t.data.role&&r<i)e.$message({type:"warning",message:"您的账号已经到期，请联系管理员！"});else{e.loading=!0,e.logins="登录中...";var a=e.loginForm,s={username:a.username,password:a.password};Object(d.k)(s).then(function(n){var t=n.data;200==t.code&&(Object(m.i)(t.data),e.loading=!1,e.logins="登录",e.$router.push({path:"/"})),201==t.code&&(o.$message(t.message),setTimeout(function(){o.loading=!1,o.logins="登录"},3e3))}).catch(function(n){e.$message(n.message)})}}201==t.code&&e.$message({message:"账号名或密码错误！",type:"warning"})}).catch(function(n){e.$message(n.message)}),n.next=8;break;case 6:return console.log("error submit!!"),n.abrupt("return",!1);case 8:case"end":return n.stop()}},n,e)}));return function(e){return n.apply(this,arguments)}}())},afterQRScan:function(){}}},f=(t("c11S"),t("bTmX"),t("ZrdR")),g=Object(f.a)(w,function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"login-container"},[t("canvas",{attrs:{id:"cas",position:"absolute","z-index":"-1"}}),e._v(" "),t("section",{staticClass:"login_Img"},[t("div",{staticClass:"form-container"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[t("el-form-item",{staticClass:"animated bounceInLeft",attrs:{prop:"username"}},[t("span",{staticClass:"svg-container svg-container_login"},[t("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),t("el-input",{attrs:{id:"usernameInp",placeholder:"请输入用户名",name:"username",type:"text","auto-complete":"on"},on:{focus:e.btHover,blur:e.btblur},nativeOn:{keyup:function(n){return"button"in n||!e._k(n.keyCode,"enter",13,n.key,"Enter")?e.handleLogin(n):null}},model:{value:e.loginForm.username,callback:function(n){e.$set(e.loginForm,"username",n)},expression:"loginForm.username"}})],1),e._v(" "),t("el-form-item",{staticClass:"animated bounceInRight",attrs:{prop:"password"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),t("el-input",{attrs:{id:"usernameInp1",type:e.passwordType,placeholder:"请输入密码",name:"password","auto-complete":"on"},on:{focus:e.btHover1,blur:e.btblur1},nativeOn:{keyup:function(n){return"button"in n||!e._k(n.keyCode,"enter",13,n.key,"Enter")?e.handleLogin(n):null}},model:{value:e.loginForm.password,callback:function(n){e.$set(e.loginForm,"password",n)},expression:"loginForm.password"}}),e._v(" "),t("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[t("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),e._v(" "),t("el-checkbox",{staticClass:"animated bounceInUp",staticStyle:{"margin-bottom":"20px"},model:{value:e.user_record,callback:function(n){e.user_record=n},expression:"user_record"}},[e._v("记住密码")]),e._v(" "),t("el-button",{staticClass:"animated bounceInDown",staticStyle:{width:"100%",background:"transparent"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(n){return n.preventDefault(),e.handleLogin(n)}}},[e._v(e._s(e.logins))])],1)],1)])])},[],!1,null,"57e573b4",null);g.options.__file="index.vue";n.default=g.exports}}]);