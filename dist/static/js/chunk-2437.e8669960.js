(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2437"],{"/umX":function(t,e,i){"use strict";e.__esModule=!0;var s=function(t){return t&&t.__esModule?t:{default:t}}(i("9dlP"));e.default=function(t,e,i){return e in t?(0,s.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},"0xGk":function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"d",function(){return a}),i.d(e,"e",function(){return r}),i.d(e,"f",function(){return l}),i.d(e,"c",function(){return c}),i.d(e,"b",function(){return u});var s=i("f0Pt"),n=i.n(s);function o(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/addsort",t)}function a(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsortinfo",t)}function r(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsortinfoall",t)}function l(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsortinfoone",t)}function c(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/editsortinfo",t)}function u(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/deletesort",t)}},"3kPI":function(t,e,i){},"5dF6":function(t,e,i){"use strict";i.r(e);var s=i("/umX"),n=i.n(s),o=(i("f0Pt"),i("X4fA")),a=(i("a/LZ"),i("0xGk")),r=i("prnK"),l=i("xA6U"),c={name:"registered",data:function(){return{inprice:"",outprice:"",maxnums:"",minnums:"",nums:"",format:"",code:"",sort:"",sorts:[],supplier:"",suppliers:[],name:"",remark:"",loading:!1}},mounted:function(){this.getsortinfoall(),this.getsupplierall()},computed:{},methods:{getsortinfoall:function(){var t=this,e={role:Object(o.a)(),uid:Object(o.d)(),pid:Object(o.f)()};Object(a.e)(e).then(function(e){e.data.forEach(function(e){t.sorts.push({value:e.id,label:e.name})})}).catch(function(t){console.log(t)})},getsupplierall:function(){var t=this,e={role:Object(o.a)(),uid:Object(o.d)(),pid:Object(o.f)()};Object(r.d)(e).then(function(e){e.data.forEach(function(e){t.suppliers.push({value:e.id,label:e.name})})}).catch(function(t){console.log(t)})},handleLogin:function(){if(""!=this.name&&""!=this.inprice&&""!=this.outprice&&""!=this.nums&&""!=this.format&&""!=this.sort&&""!=this.supplier){var t=/^\+?[1-9][0-9]*$/;if(t.test(this.nums)&&t.test(this.maxnums)&&t.test(this.minnums))if(Number(this.maxnums)<Number(this.minnums))this.$message({message:"库存上线不得小于库存下线",type:"warning"});else if(Number(this.outprice)<Number(this.inprice))this.$message({message:"售价不得小于进价",type:"warning"});else{var e=this,i=n()({name:e.name,inprice:e.inprice,outprice:e.outprice,remark:e.remark,uid:Object(o.d)(),pid:Object(o.f)(),maxnums:e.maxnums,minnums:e.minnums,nums:e.nums,format:e.format,code:e.code,sort:e.sort,supplier:e.supplier,role:Object(o.a)()},"code",e.code);Object(l.a)(i).then(function(t){200==t.data.code?(e.$message({message:"恭喜您！添加商品成功！",type:"success"}),e.$router.push({path:"/goods/goodslist"})):e.$message.error("对不起！添加商品失败！")}).catch(function(t){e.$message.error("对不起！添加商品失败！")})}else this.$message({message:"请您输入正确的数量",type:"warning"})}else this.$message({message:"请您填写完整信息",type:"warning"})}}},u=(i("ohBL"),i("ZrdR")),p=Object(u.a)(c,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("div",{staticClass:"tab"},[i("div",{staticClass:"addB"},[t._v("新增商品")]),t._v(" "),i("div",{staticClass:"biao",staticStyle:{padding:"0","justify-content":"space-between"}},[i("div",{staticClass:"biao"},[t._m(0),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{"prefix-icon":"el-icon-share",placeholder:"请输入商品名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),i("div",{staticClass:"biao"},[i("span",[t._v("商品编码")]),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品编码","prefix-icon":"el-icon-share"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)]),t._v(" "),i("div",{staticClass:"biao",staticStyle:{padding:"0"}},[i("div",{staticClass:"biao"},[i("span",[t._v("商品分类")]),t._v(" "),i("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:"请选择商品分类"},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}},t._l(t.sorts,function(t){return i("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),i("div",{staticClass:"biao"},[i("span",[t._v("供应商")]),t._v(" "),i("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:"请选择供应商"},model:{value:t.supplier,callback:function(e){t.supplier=e},expression:"supplier"}},t._l(t.suppliers,function(t){return i("el-option",{attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),i("div",{staticClass:"biao",staticStyle:{padding:"0"}},[i("div",{staticClass:"biao"},[i("span",[t._v("商品规格")]),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品规格","prefix-icon":"el-icon-edit-outline"},model:{value:t.format,callback:function(e){t.format=e},expression:"format"}},[i("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),i("div",{staticClass:"biao"},[i("span",[t._v("商品数量")]),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品数量","prefix-icon":"el-icon-edit-outline"},model:{value:t.nums,callback:function(e){t.nums=e},expression:"nums"}},[i("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1)]),t._v(" "),i("div",{staticClass:"biao",staticStyle:{padding:"0"}},[i("div",{staticClass:"biao"},[i("span",[t._v("库存上线")]),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品库存上线","prefix-icon":"el-icon-edit"},model:{value:t.maxnums,callback:function(e){t.maxnums=e},expression:"maxnums"}},[i("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),i("div",{staticClass:"biao"},[i("span",[t._v("库存下线")]),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品库存下线","prefix-icon":"el-icon-edit"},model:{value:t.minnums,callback:function(e){t.minnums=e},expression:"minnums"}},[i("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1)]),t._v(" "),i("div",{staticClass:"biao",staticStyle:{padding:"0"}},[i("div",{staticClass:"biao"},[i("span",[t._v("商品进价")]),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品进价","prefix-icon":"el-icon-edit-outline"},model:{value:t.inprice,callback:function(e){t.inprice=e},expression:"inprice"}},[i("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),i("div",{staticClass:"biao"},[i("span",[t._v("商品售价")]),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品售价","prefix-icon":"el-icon-edit-outline"},model:{value:t.outprice,callback:function(e){t.outprice=e},expression:"outprice"}},[i("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1)]),t._v(" "),i("div",{staticClass:"biao"},[i("span",[t._v("商品描述")]),t._v(" "),i("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:2,placeholder:"请输入商品描述"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),t._v(" "),i("el-button",{staticClass:"submit",attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("确 认")])],1)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("商品名称"),e("span",{staticStyle:{color:"red"}},[this._v("*")])])}],!1,null,"570941ac",null);p.options.__file="addgoods.vue";e.default=p.exports},"9dlP":function(t,e,i){t.exports={default:i("n92x"),__esModule:!0}},cHfS:function(t,e,i){var s=i("ovlw");s(s.S+s.F*!i("8wne"),"Object",{defineProperty:i("cP0M").f})},n92x:function(t,e,i){i("cHfS");var s=i("rhgp").Object;t.exports=function(t,e,i){return s.defineProperty(t,e,i)}},ohBL:function(t,e,i){"use strict";var s=i("3kPI");i.n(s).a},prnK:function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"e",function(){return a}),i.d(e,"d",function(){return r}),i.d(e,"c",function(){return l}),i.d(e,"b",function(){return c});var s=i("f0Pt"),n=i.n(s);function o(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=supplier/addsupplier",t)}function a(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=supplier/getsupplierinfo",t)}function r(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsupplierall",t)}function l(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=supplier/editesupplierinfo",t)}function c(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=supplier/deletesupplier",t)}}}]);