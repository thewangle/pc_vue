(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-580e"],{AiGq:function(n,t,i){},CAEQ:function(n,t,i){"use strict";var a=i("AiGq");i.n(a).a},w45s:function(n,t,i){"use strict";i.r(t);var a=i("7u+w"),e=i.n(a),o=i("X4fA"),r=i("iVKg"),s={name:"organization",mounted:function(){this.getallUserbyid()},components:{},data:function(){return{allnum:0,bumennum:0,guizunum:0,organization:[],neworganization:[],name:""}},created:function(){},methods:{getallUserbyid:function(){var n=this,t=this,i={role:Object(o.a)(),id:Object(o.d)(),partantid:Object(o.f)()};1==i.role&&(this.name=Object(o.e)()),2==i.role&&Object(r.j)(i).then(function(n){var i=n.data;t.name=i.department}),Object(r.i)(i).then(function(i){var a=i.data;t.allnum=a.length,a.forEach(function(n){2==n.role?(t.organization.push({partant:n,children:[]}),t.bumennum+=1):t.guizunum+=1,t.organization.forEach(function(i,a){3==n.role&&n.partantid==i.partant.id&&t.organization[a].children.push(n)})}),t.organization.forEach(function(n){n.children.forEach(function(i){t.neworganization.push({name:n.partant.department,children:[{name:i.department}]})})}),setTimeout(n.pie_show(),800)}).catch(function(n){console.log(n)})},pie_show:function(){var n=e.a.init(this.$refs.pie),t={tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",data:[{name:this.name,children:this.neworganization}],top:"1%",left:"7%",bottom:"1%",right:"20%",symbolSize:14,label:{normal:{position:"bottom",verticalAlign:"middle",align:"center",fontSize:13}},leaves:{label:{normal:{position:"right",verticalAlign:"middle",align:"left"}}},expandAndCollapse:!0,animationDuration:550,animationDurationUpdate:750}]};n.clear(),n.setOption(t)}}},l=(i("CAEQ"),i("ZrdR")),c=Object(l.a)(s,function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"dashboard-editor-container"},[i("div",{staticClass:"top_tab"},[i("span",[n._v(n._s(n.name))]),n._v(" 组织架构图")]),n._v(" "),i("div",{ref:"pie",staticStyle:{width:"100%",height:"400px",margin:"20px 0"}}),n._v(" "),i("div",{staticClass:"bottom_tab"},[i("div",[i("span",[n._v(n._s(n.name))]),n._v(" 下共有 "),i("span",[n._v(n._s(n.allnum))]),n._v(" 个账号")]),n._v(" "),i("div",{staticClass:"margin_div"},[n._v("其中 "),i("span",[n._v(n._s(n.bumennum))]),n._v(" 个部门级账号")]),n._v(" "),i("div",[i("span",[n._v(n._s(n.guizunum))]),n._v(" 个柜组级账号")])])])},[],!1,null,null,null);c.options.__file="organization.vue";t.default=c.exports}}]);