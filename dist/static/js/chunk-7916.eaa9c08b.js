(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7916"],{"/sFw":function(e,t,n){},"0xGk":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"d",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c});var i=n("f0Pt"),a=n.n(i);function s(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/addsort",e)}function r(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsortinfo",e)}function o(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsortinfoall",e)}function u(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsortinfoone",e)}function l(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/editsortinfo",e)}function c(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/deletesort",e)}},21:function(e,t){},22:function(e,t){},23:function(e,t){},"3Hjr":function(e,t,n){e.exports=n.p+"static/img/nodata.2a4cf7d.jpg"},G3OE:function(e,t,n){"use strict";var i=n("/sFw");n.n(i).a},HDHf:function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"f",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return m}),n.d(t,"n",function(){return p}),n.d(t,"o",function(){return f}),n.d(t,"l",function(){return h}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return w}),n.d(t,"p",function(){return v}),n.d(t,"q",function(){return b}),n.d(t,"r",function(){return _}),n.d(t,"s",function(){return y}),n.d(t,"m",function(){return z}),n.d(t,"k",function(){return C});var i=n("f0Pt"),a=n.n(i);function s(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getsoldgoods",e)}function r(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getsoldgoodsbygroup",e)}function o(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getreturngoods",e)}function u(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getreturngoodsbygroup",e)}function l(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getlossgoods",e)}function c(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getlossgoodsbygroup",e)}function d(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getstoragegoods",e)}function m(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getstoragegoodsbygroup",e)}function p(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getsoldgoodsinfo",e)}function f(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getstoragegoodsinfo",e)}function h(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getreturngoodsinfo",e)}function g(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getlossgoodsinfo",e)}function w(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=member/getmembers",e)}function v(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getunsalablegoods",e)}function b(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getunsalablegoodsinfo",e)}function _(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getunsalablegoodsinfoforzb",e)}function y(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getunsalablegoodslist",e)}function z(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getruninfo",e)}function C(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=report/getmostone",e)}},YWM6:function(e,t,n){"use strict";n.r(t);var i=n("cLjf"),a=n.n(i),s=n("hDQ3"),r=n.n(s),o=n("3rzS"),u=n.n(o),l=n("7u+w"),c=n.n(l),d=(n("f0Pt"),n("a/LZ")),m=n.n(d),p=n("X4fA"),f=n("iVKg"),h=(n("xA6U"),n("0xGk")),g=n("HDHf"),w=n("prnK"),v=n("AJLq"),b=n.n(v),_={name:"DashboardAdmin",components:{},data:function(){return{isShowEchart:!0,isShowEchart1:!0,listQuery:{time:[],page_no:1,page_size:10,name:"",code:"",sortid:"",supplierid:"",role:Object(p.a)(),uid:Object(p.d)(),pid:Object(p.f)()},sorts:[],suppliers:[],isgz:!1,listLoading:!1,list:[],total:1,time_tab:[m()().subtract(7,"days").format(),m()().format()],tab2name:Object(p.e)(),series_data:[],series_data_change:[],changeQushixAxis:[],changeQushiseries:[],time_tab2:[m()().subtract(7,"days").format(),m()().format()],listQuery2:{time:[],bm:"",gz:"",role:Object(p.a)(),uid:Object(p.d)(),pid:Object(p.f)()},numtypes:[{value:1,label:"售出"},{value:2,label:"退货"},{value:3,label:"报损"},{value:4,label:"补货"}],tab1info:{zongnums:0,zoninprice:0,zonlilv:0,zonlirun:0,zonoutprice:0},bms:[],gzs:[],bodyMax:0,itemnums:[],itemnums2:[],itemnames:[],is_bm:!1,is_zzh:!1,is_gz:!1,Datename:["星期一","星期二","星期三","星期四","星期五","星期六","星期天"],Datenums:[{value:0,name:"星期一"},{value:0,name:"星期二"},{value:0,name:"星期三"},{value:0,name:"星期四"},{value:0,name:"星期五"},{value:0,name:"星期六"},{value:0,name:"星期天"}],Timename:["01:00 - 08:00","08:00 - 12:00","12:00 - 16:00","16:00 - 20:00","20:00 - 24:00"],Timenums:[{value:0,name:"01:00 - 08:00"},{value:0,name:"08:00 - 12:00"},{value:0,name:"12:00 - 16:00"},{value:0,name:"16:00 - 20:00"},{value:0,name:"20:00 - 24:00"}],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]}}},computed:{},mounted:function(){3==Object(p.a)()&&(this.isgz=!0,this.handleFilter(),this.getsortinfoall(),this.getsupplierall()),this.time_select(),this.time_select2(),this.handleFilter2(),3!=Object(p.a)()&&this.getAllUserByidthis(),1==Object(p.a)()?(this.is_zzh=!0,this.is_bm=!1,this.is_gz=!1):2==Object(p.a)()?(this.is_zzh=!1,this.is_bm=!0,this.is_gz=!1):3==Object(p.a)()&&(this.is_zzh=!1,this.is_bm=!1,this.is_gz=!0)},created:function(){},methods:{toExcle:function(){var e=b.a.utils.table_to_book(document.getElementById("out-table"));b.a.writeFile(e,"出售商品列表.xlsx")},zeOver:function(){u()("#zonge").toggleClass("animated wobble"),u()("#zonge1").toggleClass("animated wobble"),setTimeout(function(){u()("#zonge").removeClass("animated wobble"),u()("#zonge1").removeClass("animated wobble")},1e3)},zeOver1:function(){u()("#zonge2").toggleClass("animated rubberBand"),u()("#zonge3").toggleClass("animated rubberBand"),setTimeout(function(){u()("#zonge2").removeClass("animated rubberBand"),u()("#zonge3").removeClass("animated rubberBand")},1e3)},zeOver2:function(){u()("#zonge4").toggleClass("animated shake"),u()("#zonge5").toggleClass("animated shake"),setTimeout(function(){u()("#zonge4").removeClass("animated shake"),u()("#zonge5").removeClass("animated shake")},1e3)},zeOver3:function(){u()("#zonge6").toggleClass("animated tada"),u()("#zonge7").toggleClass("animated tada"),setTimeout(function(){u()("#zonge6").removeClass("animated tada"),u()("#zonge7").removeClass("animated tada")},1e3)},zeOver4:function(){u()("#zonge8").toggleClass("animated bounce"),setTimeout(function(){u()("#zonge8").removeClass("animated bounce")},1e3)},zeOver5:function(){u()("#zonge9").toggleClass("animated bounce"),setTimeout(function(){u()("#zonge9").removeClass("animated bounce")},1e3)},zeOver7:function(){u()("#zonge11").toggleClass("animated bounce"),setTimeout(function(){u()("#zonge11").removeClass("animated bounce")},1e3)},zeOver8:function(){u()("#zonge12").toggleClass("animated bounce"),setTimeout(function(){u()("#zonge12").removeClass("animated bounce")},1e3)},zeOver9:function(){u()("#zonge13").toggleClass("animated bounce"),setTimeout(function(){u()("#zonge13").removeClass("animated bounce")},1e3)},getsortinfoall:function(){var e=this,t={role:Object(p.a)(),uid:Object(p.d)(),pid:Object(p.f)()};Object(h.e)(t).then(function(t){t.data.forEach(function(t){e.sorts.push({value:t.id,label:t.name})})}).catch(function(e){console.log(e)})},getsupplierall:function(){var e=this,t={role:Object(p.a)(),uid:Object(p.d)(),pid:Object(p.f)()};Object(w.d)(t).then(function(t){t.data.forEach(function(t){e.suppliers.push({value:t.id,label:t.name})})}).catch(function(e){console.log(e)})},handleFilter:function(){this.listQuery.page_no=1,this._fetchActivityList()},handleSizeChange:function(e){this.listQuery.page_size=e,this._fetchActivityList()},handleCurrentChange:function(e){this.listQuery.page_no=e,this._fetchActivityList()},_fetchActivityList:function(){var e=this;return r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.listLoading=!0,Object(g.n)(e.listQuery).then(function(t){var n=t.data;200==n.code&&(e.listLoading=!1,e.total=n.data.count,e.list=n.data.data,""==e.list&&e.$message({type:"warning",message:"没有更多商品!"})),201==n.code&&(e.list=[],e.listLoading=!1,e.$message("没有更多商品!"))}).catch(function(t){e.list=[],e.listLoading=!1,e.$message("获取商品信息失败")});case 2:case"end":return t.stop()}},t,e)}))()},getAllUserByidthis:function(){var e=this;Object(f.j)(this.listQuery2).then(function(t){t.data.forEach(function(t){1==Object(p.a)()&&e.bms.push({label:t.department,value:t.id}),2==Object(p.a)()&&e.gzs.push({label:t.department,value:t.id})})}).catch(function(e){console.log(e)})},time_select:function(e){this.listQuery.time[0]=m()(this.time_tab[0]).valueOf()/1e3,this.listQuery.time[1]=m()(this.time_tab[1]).valueOf()/1e3},time_select2:function(e){this.listQuery2.time[0]=m()(this.time_tab2[0]).valueOf()/1e3,this.listQuery2.time[1]=m()(this.time_tab2[1]).valueOf()/1e3},handleFilter2:function(e){var t=this;1==e&&(""==this.listQuery2.bm?this.tab2name=Object(p.e)():Object(f.f)({uid:this.listQuery2.bm}).then(function(e){var n=e.data;t.tab2name=n.department})),2==e&&(""==this.listQuery2.gz?this.tab2name=Object(p.e)():Object(f.f)({uid:this.listQuery2.gz}).then(function(e){var n=e.data;t.tab2name=n.department})),this._fetchActivityList2()},_fetchActivityList2:function(){var e=this;return r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.listQuery2.time.length){t.next=3;break}return e.$message({message:"请您选择日期！",type:"warning"}),t.abrupt("return");case 3:e._fetchsoldGoods(),e._fetchsoldGoodsByGroup();case 5:case"end":return t.stop()}},t,e)}))()},_fetchsoldGoods:function(){var e=this;return r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.changeQushixAxis=[],e.changeQushiseries=[],Object(g.e)(e.listQuery2).then(function(t){var n=t.data;201==n.code?(e.isShowEchart=!1,e.$message({message:"没有更多商品信息！",type:"warning",duration:5e3})):(e.isShowEchart=!0,e.tab1info=n.data.listdata,e.Datenums.forEach(function(e){e.value=0}),e.Timenums.forEach(function(e){e.value=0}),n.data.leftdata.forEach(function(t){e.changeQushixAxis.push(t.addtime),e.changeQushiseries.push((t.numbefore-t.numnow)*t.outprice),1==t.date&&(e.Datenums[0].value+=(t.numbefore-t.numnow)*t.outprice),2==t.date&&(e.Datenums[1].value+=(t.numbefore-t.numnow)*t.outprice),3==t.date&&(e.Datenums[2].value+=(t.numbefore-t.numnow)*t.outprice),4==t.date&&(e.Datenums[3].value+=(t.numbefore-t.numnow)*t.outprice),5==t.date&&(e.Datenums[4].value+=(t.numbefore-t.numnow)*t.outprice),6==t.date&&(e.Datenums[5].value+=(t.numbefore-t.numnow)*t.outprice),7==t.date&&(e.Datenums[6].value+=(t.numbefore-t.numnow)*t.outprice),t.time>=1&&t.time<8&&(e.Timenums[0].value+=(t.numbefore-t.numnow)*t.outprice),t.time>=8&&t.time<12&&(e.Timenums[1].value+=(t.numbefore-t.numnow)*t.outprice),t.time>=12&&t.time<16&&(e.Timenums[2].value+=(t.numbefore-t.numnow)*t.outprice),t.time>=16&&t.time<20&&(e.Timenums[3].value+=(t.numbefore-t.numnow)*t.outprice),t.time>=20&&t.time<=24&&(e.Timenums[4].value+=(t.numbefore-t.numnow)*t.outprice)}),e.pie_kucunChangeQushi(),e.dateChart(),e.timeChart())}).catch(function(t){e.isShowEchart=!1,console.log(t)});case 3:case"end":return t.stop()}},t,e)}))()},_fetchsoldGoodsByGroup:function(){var e=this;return r()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.itemnums=[],e.itemnames=[],e.itemnums2=[],e.bodyMax=0,Object(g.f)(e.listQuery2).then(function(t){var n=t.data;if(201==n.code)e.isShowEchart1=!1,e.$message({message:"没有更多商品信息！",type:"warning",duration:5e3});else{e.isShowEchart1=!0,n.data.leftdata.forEach(function(t,n){var i=0;t.forEach(function(e,t){i+=e.nums}),1==e.listQuery2.role&&""==e.listQuery2.bm&&Object(f.f)({uid:t[0].pid}).then(function(t){var n=t.data;e.itemnames.push(n.department),e.itemnums.push({value:i,name:n.department})}),1==e.listQuery2.role&&""!=e.listQuery2.bm&&Object(f.f)({uid:t[0].uid}).then(function(t){var n=t.data;e.itemnames.push(n.department),e.itemnums.push({value:i,name:n.department})}),2==e.listQuery2.role&&""==e.listQuery2.gz&&Object(f.f)({uid:t[0].uid}).then(function(t){var n=t.data;e.itemnames.push(n.department),e.itemnums.push({value:i,name:n.department})}),2==e.listQuery2.role&&""!=e.listQuery2.gz&&Object(h.f)({id:t[0].sortid}).then(function(t){var n=t.data;e.itemnames.push(n[0].name),e.itemnums.push({value:i,name:n[0].name})}),3==e.listQuery2.role&&Object(h.f)({id:t[0].sortid}).then(function(t){var n=t.data;e.itemnames.push(n[0].name),e.itemnums.push({value:i,name:n[0].name})})});var i=e;setTimeout(function(){i.zbChart()},800)}}).catch(function(t){e.isShowEchart1=!1,console.log(t)});case 5:case"end":return t.stop()}},t,e)}))()},pie_kucunChangeQushi:function(){var e=c.a.init(this.$refs.pie_change_qushi),t={toolbox:{feature:{saveAsImage:{title:"下载"}}},tooltip:{trigger:"item",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"category",boundaryGap:!1,data:this.changeQushixAxis},yAxis:{type:"value"},series:[{data:this.changeQushiseries,type:"line",areaStyle:{}}]};e.clear(),e.setOption(t),window.addEventListener("resize",function(){e.resize()})},zbChart:function(){var e=c.a.init(this.$refs.zbChart),t={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} 元 ({d}%)"},legend:{top:95,left:55,itemGap:20,formatter:function(e){return e},orient:"vertical",data:this.itemnames},series:[{name:"销售额占比",type:"pie",radius:"80%",roseType:"angle",center:["50%","50%"],label:{formatter:"{b}: {d}%"},data:this.itemnums}]};e.clear(),e.setOption(t),window.addEventListener("resize",function(){e.resize()})},dateChart:function(){var e=c.a.init(this.$refs.dateChart),t={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} 元 ({d}%)"},legend:{top:95,left:55,itemGap:20,formatter:function(e){return e},orient:"vertical",data:this.Datename},series:[{name:"销售额占比",type:"pie",radius:"80%",roseType:"angle",center:["50%","50%"],label:{formatter:"{b}: {d}%"},data:this.Datenums}]};e.clear(),e.setOption(t),window.addEventListener("resize",function(){e.resize()})},timeChart:function(){var e=c.a.init(this.$refs.timeChart),t={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} 元 ({d}%)"},legend:{top:95,left:55,itemGap:20,formatter:function(e){return e},orient:"vertical",data:this.Timename},series:[{name:"销售额占比",type:"pie",radius:"80%",roseType:"angle",center:["50%","50%"],label:{formatter:"{b} 占比: {d}%"},data:this.Timenums}]};e.clear(),e.setOption(t),window.addEventListener("resize",function(){e.resize()})}}},y=(n("G3OE"),n("ZrdR")),z=Object(y.a)(_,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page_wrap animated bounceInLeft"},[i("div",{staticClass:"tab_model_wrap"},[i("div",{staticClass:"tag1_wrap"},[i("el-date-picker",{attrs:{type:"daterange",align:"left","unlink-panels":"","start-placeholder":"开始日期","range-separator":"至","end-placeholder":"结束日期","picker-options":e.pickerOptions},on:{change:e.time_select2},model:{value:e.time_tab2,callback:function(t){e.time_tab2=t},expression:"time_tab2"}}),e._v(" "),e.is_zzh?i("el-select",{staticClass:"filter-item",staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"请选择部门",clearable:""},on:{change:function(t){e.handleFilter2(1)}},model:{value:e.listQuery2.bm,callback:function(t){e.$set(e.listQuery2,"bm",t)},expression:"listQuery2.bm"}},e._l(e.bms,function(e){return i("el-option",{attrs:{label:e.label,value:e.value}})})):e._e(),e._v(" "),e.is_bm?i("el-select",{staticClass:"filter-item",staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"请选择柜组",clearable:""},on:{change:function(t){e.handleFilter2(2)}},model:{value:e.listQuery2.gz,callback:function(t){e.$set(e.listQuery2,"gz",t)},expression:"listQuery2.gz"}},e._l(e.gzs,function(e){return i("el-option",{attrs:{label:e.label,value:e.value}})})):e._e(),e._v(" "),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter2}},[e._v("查询")])],1),e._v(" "),i("div",{staticClass:"salesTag"},[i("div",{staticClass:"salesTagList animated bounceInUp",on:{click:e.zeOver}},[i("div",{staticClass:"salesTagListBiao",attrs:{id:"zonge"}},[e._v(e._s(e.tab2name)+"销售总额")]),e._v(" "),i("div",{attrs:{id:"zonge1"}},[i("span",{staticClass:"salesTagListnum"},[e._v(e._s(e.tab1info.zongnums))]),e._v("元")])]),e._v(" "),i("div",{staticClass:"salesTagList animated bounceInDown",staticStyle:{"background-image":"linear-gradient(104deg, #ffbb3f, #ff9e47)"},on:{click:e.zeOver1}},[i("div",{staticClass:"salesTagListBiao",attrs:{id:"zonge2"}},[e._v(e._s(e.tab2name)+"进价总额")]),e._v(" "),i("div",{attrs:{id:"zonge3"}},[i("span",{staticClass:"salesTagListnum"},[e._v(e._s(e.tab1info.zoninprice))]),e._v("元")])]),e._v(" "),i("div",{staticClass:"salesTagList animated bounceInUp",staticStyle:{"background-image":"linear-gradient(104deg, #6bb3ff, #58a4ff)"},on:{click:e.zeOver2}},[i("div",{staticClass:"salesTagListBiao",attrs:{id:"zonge4"}},[e._v(e._s(e.tab2name)+"毛利润")]),e._v(" "),i("div",{attrs:{id:"zonge5"}},[i("span",{staticClass:"salesTagListnum"},[e._v(e._s(e.tab1info.zonlirun))]),e._v("元")])]),e._v(" "),i("div",{staticClass:"salesTagList animated bounceInDown",staticStyle:{"background-image":"linear-gradient(104deg, #78d4ae, #57c7e0)"},on:{click:e.zeOver3}},[i("div",{staticClass:"salesTagListBiao",attrs:{id:"zonge6"}},[e._v(e._s(e.tab2name)+"毛利率")]),e._v(" "),i("div",{attrs:{id:"zonge7"}},[i("span",{staticClass:"salesTagListnum"},[e._v(e._s(e.tab1info.zonlilv))]),e._v("%")])])]),e._v(" "),i("div",{staticStyle:{width:"100%","padding-right":"15px"}},[i("div",{staticClass:"fengebr",attrs:{id:"zonge8"},on:{click:e.zeOver4}},[i("h2",[e._v("销售额趋势图例分析")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowEchart,expression:"!isShowEchart"}],staticClass:"noDate"},[i("img",{staticClass:"nodataImg",attrs:{src:n("3Hjr"),alt:""}}),e._v(" "),i("span",{staticClass:"nodataSpan"},[e._v("暂无数据")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowEchart,expression:"isShowEchart"}],ref:"pie_change_qushi",staticStyle:{width:"100%",height:"400px",margin:"20px 0"}}),e._v(" "),i("div",{staticClass:"fengebr",attrs:{id:"zonge9"},on:{click:e.zeOver5}},[i("h2",[e._v("销售额占比图例分析")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowEchart1,expression:"!isShowEchart1"}],staticClass:"noDate"},[i("img",{staticClass:"nodataImg",attrs:{src:n("3Hjr"),alt:""}}),e._v(" "),i("span",{staticClass:"nodataSpan"},[e._v("暂无数据")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowEchart1,expression:"isShowEchart1"}],ref:"zbChart",staticStyle:{width:"100%",height:"400px",margin:"20px 0"}}),e._v(" "),i("div",{staticClass:"fengebr",attrs:{id:"zonge11"},on:{click:e.zeOver7}},[i("h2",[e._v("销售额日期占比图例分析")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowEchart,expression:"!isShowEchart"}],staticClass:"noDate"},[i("img",{staticClass:"nodataImg",attrs:{src:n("3Hjr"),alt:""}}),e._v(" "),i("span",{staticClass:"nodataSpan"},[e._v("暂无数据")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowEchart,expression:"isShowEchart"}],ref:"dateChart",staticStyle:{width:"100%",height:"400px",margin:"20px 0"}}),e._v(" "),i("div",{staticClass:"fengebr",attrs:{id:"zonge12"},on:{click:e.zeOver8}},[i("h2",[e._v("销售额时间段占比图例分析")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isShowEchart,expression:"!isShowEchart"}],staticClass:"noDate"},[i("img",{staticClass:"nodataImg",attrs:{src:n("3Hjr"),alt:""}}),e._v(" "),i("span",{staticClass:"nodataSpan"},[e._v("暂无数据")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowEchart,expression:"isShowEchart"}],ref:"timeChart",staticStyle:{width:"100%",height:"400px",margin:"20px 0"}})]),e._v(" "),e.isgz?i("div",{staticClass:"fengebr",attrs:{id:"zonge13"},on:{click:e.zeOver9}},[i("h2",[e._v("销售商品列表")])]):e._e(),e._v(" "),e.isgz?i("div",{staticClass:"filter-container"},[i("el-date-picker",{attrs:{type:"daterange",align:"left","unlink-panels":"","start-placeholder":"开始日期","range-separator":"至","end-placeholder":"结束日期","picker-options":e.pickerOptions},on:{change:e.time_select},model:{value:e.time_tab,callback:function(t){e.time_tab=t},expression:"time_tab"}}),e._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入商品名称"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}}),e._v(" "),i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入商品编码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleFilter(t):null}},model:{value:e.listQuery.code,callback:function(t){e.$set(e.listQuery,"code",t)},expression:"listQuery.code"}}),e._v(" "),e.isgz?i("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择分类",clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.sortid,callback:function(t){e.$set(e.listQuery,"sortid",t)},expression:"listQuery.sortid"}},e._l(e.sorts,function(e){return i("el-option",{attrs:{label:e.label,value:e.value}})})):e._e(),e._v(" "),e.isgz?i("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择供应商",clearable:""},on:{change:e.handleFilter},model:{value:e.listQuery.supplierid,callback:function(t){e.$set(e.listQuery,"supplierid",t)},expression:"listQuery.supplierid"}},e._l(e.suppliers,function(e){return i("el-option",{attrs:{label:e.label,value:e.value}})})):e._e(),e._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("查询")]),e._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.toExcle}},[e._v("导出")])],1):e._e(),e._v(" "),e.isgz?i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"",stripe:"",id:"out-table","highlight-current-row":""}},[i("el-table-column",{attrs:{label:"序号",align:"center",width:"65"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.$index+1))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"商品名称",width:"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"tag_yellow"},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"商品编码","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.code))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"商品规格",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.format))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"售出数量",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"tag_blue"},[e._v(e._s(t.row.numbefore-t.row.numnow))])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"商品进价",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.inprice)+" 元")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"商品售价",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.outprice)+" 元")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"毛利润",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"tag_red"},[e._v(e._s(((t.row.outprice-t.row.inprice)*(t.row.numbefore-t.row.numnow)).toFixed(2))+" 元")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"毛利率",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"tag_red"},[e._v(e._s(((t.row.outprice-t.row.inprice)/t.row.inprice*100).toFixed(2))+" %")])]}}])}),e._v(" "),i("el-table-column",{attrs:{label:"售出时间",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.addtime))])]}}])})],1):e._e(),e._v(" "),e.isgz?i("div",{staticClass:"pagination-container"},[i("el-pagination",{attrs:{"current-page":e.listQuery.page_no,"page-sizes":[10,20,30,50],"page-size":e.listQuery.page_size,total:e.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)])},[],!1,null,"cbd71abc",null);z.options.__file="sales.vue";t.default=z.exports},prnK:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"e",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l});var i=n("f0Pt"),a=n.n(i);function s(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=supplier/addsupplier",e)}function r(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=supplier/getsupplierinfo",e)}function o(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsupplierall",e)}function u(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=supplier/editesupplierinfo",e)}function l(e){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=supplier/deletesupplier",e)}}}]);