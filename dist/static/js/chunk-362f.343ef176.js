(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-362f"],{CiRo:function(n,e,t){"use strict";var o=t("n8Uk");t.n(o).a},c11S:function(n,e,t){"use strict";var o=t("fN6i");t.n(o).a},fN6i:function(n,e,t){},iVKg:function(n,e,t){"use strict";t.d(e,"k",function(){return r}),t.d(e,"j",function(){return a}),t.d(e,"a",function(){return s}),t.d(e,"b",function(){return u}),t.d(e,"c",function(){return l}),t.d(e,"l",function(){return c}),t.d(e,"f",function(){return d}),t.d(e,"g",function(){return m}),t.d(e,"h",function(){return f}),t.d(e,"i",function(){return g}),t.d(e,"d",function(){return p}),t.d(e,"e",function(){return h});var o=t("f0Pt"),i=t.n(o);function r(n){return i.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/login",n)}function a(n){return i.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/getuserinfo",n)}function s(n){return i.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/adduser",n)}function u(n){return i.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/deleuser",n)}function l(n){return i.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/editeuser",n)}function c(n){return i.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/renewalfee",n)}function d(n){return i.a.get("http://49.235.163.210/yii2/frontend/web/?r=login/getallusers")}function m(n){return i.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/getallusersbyid",n)}function f(n){return i.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/getallusersbyidmain",n)}function g(n){return i.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/getallusersbyidthis",n)}function p(n){return i.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/getalluser",n)}function h(n){return i.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/getalluserbyuid",n)}},n8Uk:function(n,e,t){},ntYl:function(n,e,t){"use strict";t.r(e);var o=t("cLjf"),i=t.n(o),r=t("hDQ3"),a=t.n(r),s=t("3rzS"),u=t.n(s),l=(t("+vOl"),t("f0Pt"),t("dYX8"),t("a/LZ")),c=t.n(l),d=t("iVKg"),m=t("X4fA"),f={name:"Login",data:function(){return{user_record:!0,logins:"登录",loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:function(n,e,t){e.length<=0?t(new Error("请输入正确的用户名")):t()}}],password:[{required:!0,trigger:"blur",validator:function(n,e,t){e.length<6?t(new Error("请输入6位以上的密码")):t()}}]},passwordType:"password",loading:!1,showDialog:!1}},mounted:function(){this.getCookie();var n=document.getElementById("cas"),e=n.getContext("2d");function t(){n.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}t(),window.onresize=t;var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)},i={x:null,y:null,max:2e4};window.onmousemove=function(n){n=n||window.event,i.x=n.clientX,i.y=n.clientY},window.onmouseout=function(n){i.x=null,i.y=null};for(var r=[],a=0;a<100;a++){var s=Math.random()*n.width,u=Math.random()*n.height,l=2*Math.random()-1,c=2*Math.random()-1;r.push({x:s,y:u,xa:l,ya:c,max:6e3})}function d(){e.clearRect(0,0,n.width,n.height);var t=[i].concat(r);r.forEach(function(o){o.x+=o.xa,o.y+=o.ya,o.xa*=o.x>n.width||o.x<0?-1:1,o.ya*=o.y>n.height||o.y<0?-1:1,e.fillRect(o.x-.5,o.y-.5,1,1);for(var r=0;r<t.length;r++){var a=t[r];if(o!==a&&null!==a.x&&null!==a.y){var s,u=o.x-a.x,l=o.y-a.y,c=u*u+l*l;c<a.max&&(a===i&&c>a.max/2&&(o.x-=.03*u,o.y-=.03*l),s=(a.max-c)/a.max,e.beginPath(),e.lineWidth=s/2,e.strokeStyle="rgba(255,255,255,"+(s+.2)+")",e.moveTo(o.x,o.y),e.lineTo(a.x,a.y),e.stroke())}}t.splice(t.indexOf(o),1)}),o(d)}setTimeout(function(){d()},100)},created:function(){},destroyed:function(){},methods:{btHover:function(){u()("#usernameInp").addClass("animated jello")},btblur:function(){u()("#usernameInp").removeClass("animated jello")},btHover1:function(){u()("#usernameInp1").addClass("animated jello")},btblur1:function(){u()("#usernameInp1").removeClass("animated jello")},getuser_name_pass:function(){this.loginForm.username=this.getUserName(),this.loginForm.password=this.getPassword()},setCookie:function(n,e,t){var o=new Date;o.setTime(o.getTime()+864e5*t),document.cookie="userName="+n+";path=/;expires="+o.toLocaleString(),document.cookie="userPwd="+e+";path=/;expires="+o.toLocaleString()},getCookie:function(){if(document.cookie.length>0)for(var n=document.cookie.split("; "),e=0;e<n.length;e++){var t=n[e].split("=");"userName"==t[0]?this.loginForm.username=t[1]:"userPwd"==t[0]&&(this.loginForm.password=t[1])}},clearCookie:function(){this.setCookie("","",-1)},showPwd:function(){"password"===this.passwordType?this.passwordType="":this.passwordType="password"},add_new_users:function(){this.$router.push({path:"/registered"})},handleLogin:function(){var n=this;this.user_record?this.setCookie(this.loginForm.username,this.loginForm.password,7):this.clearCookie(),this.$refs.loginForm.validate(function(){var e=a()(i.a.mark(function e(t){var o,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n,!t){e.next=6;break}r={username:n.loginForm.username},Object(d.j)(r).then(function(e){var t=e.data;if(200==t.code){var i=c()(new Date).valueOf(),r=c()(t.data.addtime).valueOf();if(0!=t.data.role&&r<i)n.$message({type:"warning",message:"您的账号已经到期，请联系管理员！"});else{n.loading=!0,n.logins="登录中...";var a=n.loginForm,s={username:a.username,password:a.password};Object(d.k)(s).then(function(e){var t=e.data;200==t.code&&(Object(m.i)(t.data),n.loading=!1,n.logins="登录",n.$router.push({path:"/"})),201==t.code&&(o.$message(t.message),setTimeout(function(){o.loading=!1,o.logins="登录"},3e3))}).catch(function(e){n.$message(e.message)})}}201==t.code&&console.log(t)}).catch(function(e){n.$message(e.message)}),e.next=8;break;case 6:return console.log("error submit!!"),e.abrupt("return",!1);case 8:case"end":return e.stop()}},e,n)}));return function(n){return e.apply(this,arguments)}}())},afterQRScan:function(){}}},g=(t("c11S"),t("CiRo"),t("ZrdR")),p=Object(g.a)(f,function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"login-container"},[t("canvas",{attrs:{id:"cas",position:"absolute","z-index":"-1"}}),n._v(" "),t("section",{staticClass:"login_Img"},[t("div",{staticClass:"form-container"},[t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:n.loginForm,rules:n.loginRules,"auto-complete":"on","label-position":"left"}},[t("el-form-item",{staticClass:"animated bounceInLeft",attrs:{prop:"username"}},[t("span",{staticClass:"svg-container svg-container_login"},[t("svg-icon",{attrs:{"icon-class":"user"}})],1),n._v(" "),t("el-input",{attrs:{id:"usernameInp",placeholder:"请输入用户名",name:"username",type:"text","auto-complete":"on"},on:{focus:n.btHover,blur:n.btblur},nativeOn:{keyup:function(e){return"button"in e||!n._k(e.keyCode,"enter",13,e.key,"Enter")?n.handleLogin(e):null}},model:{value:n.loginForm.username,callback:function(e){n.$set(n.loginForm,"username",e)},expression:"loginForm.username"}})],1),n._v(" "),t("el-form-item",{staticClass:"animated bounceInRight",attrs:{prop:"password"}},[t("span",{staticClass:"svg-container"},[t("svg-icon",{attrs:{"icon-class":"password"}})],1),n._v(" "),t("el-input",{attrs:{id:"usernameInp1",type:n.passwordType,placeholder:"请输入密码",name:"password","auto-complete":"on"},on:{focus:n.btHover1,blur:n.btblur1},nativeOn:{keyup:function(e){return"button"in e||!n._k(e.keyCode,"enter",13,e.key,"Enter")?n.handleLogin(e):null}},model:{value:n.loginForm.password,callback:function(e){n.$set(n.loginForm,"password",e)},expression:"loginForm.password"}}),n._v(" "),t("span",{staticClass:"show-pwd",on:{click:n.showPwd}},[t("svg-icon",{attrs:{"icon-class":"eye"}})],1)],1),n._v(" "),t("el-checkbox",{staticClass:"animated bounceInUp",staticStyle:{"margin-bottom":"20px"},model:{value:n.user_record,callback:function(e){n.user_record=e},expression:"user_record"}},[n._v("记住密码")]),n._v(" "),t("el-button",{staticClass:"animated bounceInDown",staticStyle:{width:"100%",background:"transparent"},attrs:{loading:n.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),n.handleLogin(e)}}},[n._v(n._s(n.logins))])],1)],1)])])},[],!1,null,"9831dc12",null);p.options.__file="index.vue";e.default=p.exports}}]);