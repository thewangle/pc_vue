(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-bba1"],{"/CEL":function(t,e,i){},"0xGk":function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"d",function(){return r}),i.d(e,"e",function(){return o}),i.d(e,"f",function(){return c}),i.d(e,"c",function(){return l}),i.d(e,"b",function(){return u});var n=i("f0Pt"),a=i.n(n);function s(t){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/addsort",t)}function r(t){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsortinfo",t)}function o(t){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsortinfoall",t)}function c(t){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsortinfoone",t)}function l(t){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/editsortinfo",t)}function u(t){return a.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/deletesort",t)}},"3Hjr":function(t,e,i){t.exports=i.p+"static/img/nodata.2a4cf7d.jpg"},HHRD:function(t,e,i){"use strict";i.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"noDate"},[e("img",{staticClass:"nodataImg",attrs:{src:i("3Hjr"),alt:""}}),this._v(" "),e("span",{staticClass:"nodataSpan"},[this._v("暂无数据")])])}],a=i("cLjf"),s=i.n(a),r=i("hDQ3"),o=i.n(r),c=i("3rzS"),l=i.n(c),u=i("7u+w"),d=i.n(u),p=(i("f0Pt"),i("a/LZ")),h=i.n(p),f=i("X4fA"),g=(i("iVKg"),i("xA6U")),m=(i("0xGk"),{name:"DashboardAdmin",components:{},data:function(){return{changeQushixAxis:[],changeQushiseries:[],time_tab2:[h()().subtract(7,"days").format(),h()().format()],listQuery2:{time:[],goodsid:"",priceinorout:1,role:Object(f.a)(),uid:Object(f.d)(),pid:Object(f.f)()},priceinoroutlist:[{label:"进价",value:1},{label:"售价",value:2}],priceHigh:0,pricelow:0,priceci:0,numtypes:[],tab2name:"",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-7776e6),t.$emit("pick",[i,e])}}]}}},computed:{},mounted:function(){this.GetGoodsinfobyid(),this.time_select2(),this.handleFilter2()},created:function(){},methods:{zeOver:function(){l()("#zonge").addClass("animated bounce"),setTimeout(function(){l()("#zonge").removeClass("animated bounce")},1e3)},GetGoodsinfobyid:function(){var t=this;Object(g.f)({uid:Object(f.d)()}).then(function(e){var i=e.data;200==i.code&&i.data.forEach(function(e,i){0==i&&(t.listQuery2.goodsid=e.id,t.tab2name=e.name),t.numtypes.push({label:e.name,value:e.id})})}).catch(function(t){console.log(t)})},time_select2:function(t){this.listQuery2.time[0]=h()(this.time_tab2[0]).valueOf()/1e3,this.listQuery2.time[1]=h()(this.time_tab2[1]).valueOf()/1e3},handleFilter2:function(t){var e=this;1==t&&Object(g.g)({goodsid:this.listQuery2.goodsid}).then(function(t){var i=t.data;e.tab2name=i.data.name}),this._fetchActivityList2()},_fetchActivityList2:function(){var t=this;return o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.listQuery2.time.length){e.next=3;break}return t.$message({message:"请您选择日期！",type:"warning"}),e.abrupt("return");case 3:t._fetchGoodsChangeQushi();case 4:case"end":return e.stop()}},e,t)}))()},_fetchGoodsChangeQushi:function(){var t=this;return o()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.changeQushixAxis=[],t.changeQushiseries=[],Object(g.l)(t.listQuery2).then(function(e){var i=e.data;201==i.code?t.$message({message:"没有更多价格变化信息！",type:"warning",duration:5e3}):(t.priceci=i.data.data.leftdata.length,t.pricelow=i.data.data.leftdata[0].priceinnow,i.data.data.leftdata.forEach(function(e,i){t.priceHigh>e.priceinnow?t.priceHigh=t.priceHigh:t.priceHigh=e.priceinnow,t.pricelow<e.priceinnow?t.pricelow=t.pricelow:t.pricelow=e.priceinnow,t.changeQushixAxis.push(e.addtime),t.changeQushiseries.push(e.priceinnow)}),t.pie_kucunChangeQushi())}).catch(function(t){console.log(t)});case 3:case"end":return e.stop()}},e,t)}))()},pie_kucunChangeQushi:function(){var t=d.a.init(this.$refs.pie_change_qushi),e={toolbox:{feature:{saveAsImage:{title:"下载"}}},tooltip:{trigger:"item",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},xAxis:{type:"category",boundaryGap:!1,data:this.changeQushixAxis},yAxis:{type:"value"},series:[{data:this.changeQushiseries,type:"line",areaStyle:{}}]};t.clear(),t.setOption(e)}}}),v=(i("pvu1"),i("ZrdR")),w=Object(v.a)(m,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page_wrap animated rotateIn"},[i("div",{staticClass:"tab_model_wrap"},[i("div",{staticClass:"tag1_wrap"},[i("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","start-placeholder":"开始日期","range-separator":"至","end-placeholder":"结束日期","picker-options":t.pickerOptions},on:{change:t.time_select2},model:{value:t.time_tab2,callback:function(e){t.time_tab2=e},expression:"time_tab2"}}),t._v(" "),i("el-select",{staticClass:"filter-item",staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"请选择商品",filterable:""},on:{change:function(e){t.handleFilter2(1)}},model:{value:t.listQuery2.goodsid,callback:function(e){t.$set(t.listQuery2,"goodsid",e)},expression:"listQuery2.goodsid"}},t._l(t.numtypes,function(t){return i("el-option",{attrs:{label:t.label,value:t.value}})})),t._v(" "),i("el-select",{staticClass:"filter-item",staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"请选择变动种类",filterable:""},on:{change:t.handleFilter2},model:{value:t.listQuery2.priceinorout,callback:function(e){t.$set(t.listQuery2,"priceinorout",e)},expression:"listQuery2.priceinorout"}},t._l(t.priceinoroutlist,function(t){return i("el-option",{attrs:{label:t.label,value:t.value}})})),t._v(" "),i("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter2}},[t._v("查询")])],1),t._v(" "),i("div",{staticClass:"fengebr",attrs:{id:"zonge"},on:{click:t.zeOver}},[i("h2",[t._v("价格变动趋势图例分析")])]),t._v(" "),i("div",{staticClass:"tab1_content_wrap"},[i("div",{staticClass:"tab1_content_left"},[i("div",{staticClass:"tab1_content_left_tab"},[t._v(t._s(t.tab2name)+"价格趋势")]),t._v(" "),i("div",{staticClass:"tab1_content_left_list"},[i("div",[i("span",[t._v("最高价格：")]),i("span",[t._v(t._s(t.priceHigh))]),t._v(" 元")]),t._v(" "),i("div",[i("span",[t._v("最低价格：")]),i("span",[t._v(t._s(t.pricelow))]),t._v(" 元")]),t._v(" "),i("div",[i("span",[t._v("变动次数：")]),i("span",[t._v(t._s(t.priceci))]),t._v(" 次")])])]),t._v(" "),i("div",{ref:"pie_change_qushi",staticStyle:{width:"80%",height:"400px",margin:"20px 0"}},[t._m(0)])])])])},n,!1,null,null,null);w.options.__file="pricechange.vue";e.default=w.exports},pvu1:function(t,e,i){"use strict";var n=i("/CEL");i.n(n).a}}]);