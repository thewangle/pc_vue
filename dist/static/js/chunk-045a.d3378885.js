(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-045a"],{AiGq:function(n,t,i){},CAEQ:function(n,t,i){"use strict";var e=i("AiGq");i.n(e).a},iVKg:function(n,t,i){"use strict";i.d(t,"k",function(){return o}),i.d(t,"j",function(){return a}),i.d(t,"a",function(){return u}),i.d(t,"b",function(){return s}),i.d(t,"c",function(){return l}),i.d(t,"l",function(){return c}),i.d(t,"f",function(){return d}),i.d(t,"g",function(){return f}),i.d(t,"h",function(){return p}),i.d(t,"i",function(){return g}),i.d(t,"d",function(){return h}),i.d(t,"e",function(){return m});var e=i("f0Pt"),r=i.n(e);function o(n){return r.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/login",n)}function a(n){return r.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/getuserinfo",n)}function u(n){return r.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/adduser",n)}function s(n){return r.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/deleuser",n)}function l(n){return r.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/editeuser",n)}function c(n){return r.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/renewalfee",n)}function d(n){return r.a.get("http://49.235.163.210/yii2/frontend/web/?r=login/getallusers")}function f(n){return r.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/getallusersbyid",n)}function p(n){return r.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/getallusersbyidmain",n)}function g(n){return r.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/getallusersbyidthis",n)}function h(n){return r.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/getalluser",n)}function m(n){return r.a.post("http://49.235.163.210/yii2/frontend/web/?r=login/getalluserbyuid",n)}},w45s:function(n,t,i){"use strict";i.r(t);var e=i("88Rz"),r=i.n(e),o=i("X4fA"),a=i("iVKg"),u={name:"organization",mounted:function(){this.getallUserbyid()},components:{},data:function(){return{allnum:0,bumennum:0,guizunum:0,organization:[],neworganization:[],name:""}},created:function(){},methods:{getallUserbyid:function(){var n=this,t=this,i={role:Object(o.a)(),id:Object(o.d)(),partantid:Object(o.f)()};1==i.role&&(this.name=Object(o.e)()),2==i.role&&Object(a.h)(i).then(function(n){var i=n.data;t.name=i.department}),Object(a.g)(i).then(function(i){var e=i.data;t.allnum=e.length,e.forEach(function(n){2==n.role?(t.organization.push({partant:n,children:[]}),t.bumennum+=1):t.guizunum+=1,t.organization.forEach(function(i,e){3==n.role&&n.partantid==i.partant.id&&t.organization[e].children.push(n)})}),t.organization.forEach(function(n){n.children.forEach(function(i){t.neworganization.push({name:n.partant.department,children:[{name:i.department}]})})}),setTimeout(n.pie_show(),800)}).catch(function(n){console.log(n)})},pie_show:function(){var n=r.a.init(this.$refs.pie),t={tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",data:[{name:this.name,children:this.neworganization}],top:"1%",left:"7%",bottom:"1%",right:"20%",symbolSize:14,label:{normal:{position:"bottom",verticalAlign:"middle",align:"center",fontSize:13}},leaves:{label:{normal:{position:"right",verticalAlign:"middle",align:"left"}}},expandAndCollapse:!0,animationDuration:550,animationDurationUpdate:750}]};n.clear(),n.setOption(t)}}},s=(i("CAEQ"),i("ZrdR")),l=Object(s.a)(u,function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"dashboard-editor-container"},[i("div",{staticClass:"top_tab"},[i("span",[n._v(n._s(n.name))]),n._v(" 组织架构图")]),n._v(" "),i("div",{ref:"pie",staticStyle:{width:"100%",height:"400px",margin:"20px 0"}}),n._v(" "),i("div",{staticClass:"bottom_tab"},[i("div",[i("span",[n._v(n._s(n.name))]),n._v(" 下共有 "),i("span",[n._v(n._s(n.allnum))]),n._v(" 个账号")]),n._v(" "),i("div",{staticClass:"margin_div"},[n._v("其中 "),i("span",[n._v(n._s(n.bumennum))]),n._v(" 个部门级账号")]),n._v(" "),i("div",[i("span",[n._v(n._s(n.guizunum))]),n._v(" 个柜组级账号")])])])},[],!1,null,null,null);l.options.__file="organization.vue";t.default=l.exports}}]);