(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6014"],{"44Km":function(e,a,s){"use strict";s.r(a);var t=s("cLjf"),n=s.n(t),i=s("hDQ3"),r=s.n(i),o=(s("f0Pt"),s("X4fA")),c=s("a/LZ"),l=s.n(c),p=s("iVKg"),d={name:"registered",data:function(){return{username:"",name:"",password:"",department:"",adminname:"",loading:!1,allusers:[],phone:"",partantuser:Object(o.c)()}},mounted:function(){this._fetchUserList()},computed:{tab_biao:function(){return 0==Object(o.a)()?"运营商":1==Object(o.a)()?"部门":2==Object(o.a)()?"柜组":void 0}},methods:{handleLogin:function(){var e=this;if(""!=this.username&&""!=this.password&&""!=this.department&&""!=this.adminname&&""!=this.phone){if(!/^1[3456789]\d{9}$/.test(this.phone))return this.$message({message:"请您输入正确的手机号格式！",type:"warning"}),!1;var a=!0;if(this.allusers.forEach(function(s,t){s.username==e.username&&(e.$message({message:"对不起！该用户已存在！",type:"warning"}),a=!1)}),a){var s=this,t={username:s.username,password:s.password,department:s.department,adminname:s.adminname,partantuser:s.partantuser,phone:s.phone,addtime:l()(new Date).add("days",365).format("YYYY-MM-DD HH:mm:ss")};Object(p.a)(t).then(function(e){var a=e.data;200==a.code?(s.$message({message:"恭喜您！注册成功！",type:"success"}),s.$router.push({path:"/user/userlist"})):202==a.code?s.$message({message:"该用户名已经存在！",type:"warning"}):s.$message.error("对不起！注册失败！")}).catch(function(e){s.$message.error("对不起！注册失败！")})}}else this.$message({message:"请您填写完整信息",type:"warning"})},_fetchUserList:function(){var e=this;return r()(n.a.mark(function a(){return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:Object(p.g)().then(function(a){var s=a.data;200==s.code&&(e.allusers=s.data),201==s.code&&console.log("获取失败")}).catch(function(e){console.log("获取失败")});case 1:case"end":return a.stop()}},a,e)}))()}}},u=(s("Am7n"),s("ZrdR")),m=Object(u.a)(d,function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"wrap"},[s("div",{staticClass:"tab"},[s("div",{staticClass:"addB"},[e._v("新增"+e._s(e.tab_biao))]),e._v(" "),s("div",{staticClass:"biao"},[s("span",[e._v("用户名")]),e._v(" "),s("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.username,callback:function(a){e.username=a},expression:"username"}},[s("i",{staticClass:"el-icon-user-solid",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),s("div",{staticClass:"biao"},[s("span",[e._v("密码")]),e._v(" "),s("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}},[s("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),s("div",{staticClass:"biao"},[s("span",[e._v(e._s(e.tab_biao)+"名称")]),e._v(" "),s("el-input",{attrs:{placeholder:"请输入"+e.tab_biao+"名称"},model:{value:e.department,callback:function(a){e.department=a},expression:"department"}},[s("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),s("div",{staticClass:"biao"},[s("span",[e._v("管理员")]),e._v(" "),s("el-input",{attrs:{placeholder:"请输入管理员名称"},model:{value:e.adminname,callback:function(a){e.adminname=a},expression:"adminname"}},[s("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),s("div",{staticClass:"biao"},[s("span",[e._v("电话")]),e._v(" "),s("el-input",{attrs:{placeholder:"请输入管理员电话"},model:{value:e.phone,callback:function(a){e.phone=a},expression:"phone"}},[s("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),s("el-button",{staticClass:"submit",attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(a){return a.preventDefault(),e.handleLogin(a)}}},[e._v("注 册")])],1)])},[],!1,null,"667ac8c1",null);m.options.__file="index.vue";a.default=m.exports},Am7n:function(e,a,s){"use strict";var t=s("mXHT");s.n(t).a},mXHT:function(e,a,s){}}]);