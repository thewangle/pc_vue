(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e38f"],{"6Nj6":function(t,e,a){"use strict";var n=a("7F/H");a.n(n).a},"7F/H":function(t,e,a){},RUBJ:function(t,e,a){"use strict";a.r(e);var n=a("cLjf"),i=a.n(n),l=a("6ZY3"),r=a.n(l),o=a("hDQ3"),s=a.n(o),u=a("j2BA"),c={name:"PersonCounte",directives:{waves:a("ZySA").a},filters:{timeFilter:function(t){if(0==+t)return"无";var e=new Date(1e3*t);return e.getFullYear()+"-"+((+e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-")+((+e.getDate()<10?"0"+e.getDate():e.getDate())+" ")+((+e.getHours()<10?"0"+e.getHours():e.getHours())+":")+((+e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":")+(+e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())},payTypeFilter:function(t){return 1==+t?"微信":4==+t?"余额":void 0}},data:function(){return{list:null,total:null,listLoading:!1,listQuery:{page_no:1,page_size:20,agent_name:"",agent_type:"",dateValue:[],start_time:"",end_time:""},dialogTotal:null,dilogQuery:{page_no:1,page_size:10,act_id:""},status:[{label:"代理商",key:1},{label:"运营商",key:2}],dialogInfoVisible:!1,gridData:[],filterList:[]}},created:function(){var t=(new Date).getTime()-2592e6,e=(new Date).getTime();this.listQuery.start_time=t,this.listQuery.end_time=e,this.listQuery.dateValue=[t,e],this._fetchCountList()},methods:{_filterName:function(t){var e="";return this.filterList.forEach(function(a){a.id===t&&(e=a.tag_name)}),e},handleFilter:function(){this.listQuery.page_no=1,this._fetchCountList()},handleSizeChange:function(t){this.listQuery.page_size=t,this._fetchCountList()},handleCurrentChange:function(t){this.listQuery.page_no=t,this._fetchCountList()},handledialogCurrentChange:function(t){this.dilogQuery.page_no=t,this._fetactlist()},handleUpdate:function(t,e){console.log(t),this.dilogQuery.act_id=t.act_id,"info"===e&&(this.dialogInfoVisible=!0),this._fetactlist(t.template_id)},_fetactlist:function(t){var e=this;return s()(i.a.mark(function a(){var n,l,o,s,c;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.listQuery.dateValue[0]||(new Date).getTime()-2592e6,l=e.listQuery.dateValue[1]||(new Date).getTime(),(o=r()({},e.dilogQuery)).start_time=Math.floor(n/1e3),o.end_time=Math.floor(l/1e3),a.prev=5,!(+t>0)){a.next=16;break}return a.next=9,Object(u.f)(o);case 9:s=a.sent,console.log(s),e.gridData=s.data.list,e.dialogTotal=+s.data.total,e.filterList=s.data.head,a.next=21;break;case 16:return a.next=18,Object(u.d)(o);case 18:c=a.sent,e.gridData=c.data.data,e.dialogTotal=+c.data.total;case 21:a.next=25;break;case 23:a.prev=23,a.t0=a.catch(5);case 25:case"end":return a.stop()}},a,e,[[5,23]])}))()},_fetchCountList:function(){var t=this;return s()(i.a.mark(function e(){var a,n,l,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.listQuery.dateValue[0]||(new Date).getTime()-2592e6,n=t.listQuery.dateValue[1]||(new Date).getTime(),t.listQuery.start_time=Math.floor(a/1e3),t.listQuery.end_time=Math.floor(n/1e3),(l=r()({},t.listQuery)).agent_type=l.agent_type||0,e.prev=6,e.next=9,Object(u.e)(l);case 9:o=e.sent,t.list=o.data.data,t.total=o.data.total,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(6);case 16:case"end":return e.stop()}},e,t,[[6,14]])}))()}}},d=(a("6Nj6"),a("ZrdR")),p=Object(d.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"请输入运营商名称"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleFilter(e):null}},model:{value:t.listQuery.agent_name,callback:function(e){t.$set(t.listQuery,"agent_name",e)},expression:"listQuery.agent_name"}}),t._v(" "),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"timestamp"},model:{value:t.listQuery.dateValue,callback:function(e){t.$set(t.listQuery,"dateValue",e)},expression:"listQuery.dateValue"}}),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("查询")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"序号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.$index+1))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.agent_name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"活动名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.act_name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"参加人数",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.act_num))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"总计价格(元)",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.total_price/100))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"230","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){t.handleUpdate(e.row,"info")}}},[t._v("查看")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":t.listQuery.page_no,"page-sizes":[10,20,30,50],"page-size":t.listQuery.page_size,total:t.total,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogInfoVisible,"close-on-click-modal":!1,title:"财务统计查看","custom-class":"count-dialog"},on:{"update:visible":function(e){t.dialogInfoVisible=e}}},[a("el-table",{attrs:{data:t.gridData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"活动名称",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.act_name))])]}}])}),t._v(" "),t._l(t.filterList,function(e){return a("el-table-column",{key:e.id,attrs:{label:t._filterName(e.id),width:"150px"},scopedSlots:t._u([{key:"default",fn:function(n){return[a("span",[t._v(t._s(n.row[e.id]))])]}}])})}),t._v(" "),a("el-table-column",{attrs:{label:"玩家昵称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.user_name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"支付时间",width:"170px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("timeFilter")(e.row.pay_time)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"支付方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t._f("payTypeFilter")(e.row.pay_type)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"支付金额(元)",width:"130px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.money/100))])]}}])})],2),t._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":t.dilogQuery.page_no,total:t.dialogTotal,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":t.handledialogCurrentChange}})],1)],1)],1)},[],!1,null,null,null);p.options.__file="personCounte.vue";e.default=p.exports},ZySA:function(t,e,a){"use strict";var n=a("6ZY3"),i=a.n(n),l=(a("jUE0"),{bind:function(t,e){t.addEventListener("click",function(a){var n=i()({},e.value),l=i()({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),r=l.ele;if(r){r.style.position="relative",r.style.overflow="hidden";var o=r.getBoundingClientRect(),s=r.querySelector(".waves-ripple");switch(s?s.className="waves-ripple":((s=document.createElement("span")).className="waves-ripple",s.style.height=s.style.width=Math.max(o.width,o.height)+"px",r.appendChild(s)),l.type){case"center":s.style.top=o.height/2-s.offsetHeight/2+"px",s.style.left=o.width/2-s.offsetWidth/2+"px";break;default:s.style.top=(a.pageY-o.top-s.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",s.style.left=(a.pageX-o.left-s.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return s.style.backgroundColor=l.color,s.className="waves-ripple z-active",!1}},!1)}}),r=function(t){t.directive("waves",l)};window.Vue&&(window.waves=l,Vue.use(r)),l.install=r;e.a=l},j2BA:function(t,e,a){"use strict";a.d(e,"b",function(){return i}),a.d(e,"c",function(){return l}),a.d(e,"a",function(){return r}),a.d(e,"e",function(){return o}),a.d(e,"d",function(){return s}),a.d(e,"f",function(){return u});var n=a("t3Un");function i(t){return Object(n.a)({url:"/i/topteam/admin/getuseracountlist",method:"post",data:t})}function l(t){return Object(n.a)({url:"/i/topteam/admin/getactpaylist",method:"post",data:t})}function r(t){return Object(n.a)({url:"/i/topteam/admin/getchargelist",method:"post",data:t})}function o(t){return Object(n.a)({url:"/i/topteam/admin/getpaccountlist",method:"post",data:t})}function s(t){return Object(n.a)({url:"/i/topteam/admin/getpjoinlist",method:"post",data:t})}function u(t){return Object(n.a)({url:"/i/topteam/admin/getptjoinlist",method:"post",data:t})}},jUE0:function(t,e,a){}}]);