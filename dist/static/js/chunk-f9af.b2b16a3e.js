(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-f9af"],{"/umX":function(t,e,i){"use strict";e.__esModule=!0;var s=function(t){return t&&t.__esModule?t:{default:t}}(i("9dlP"));e.default=function(t,e,i){return e in t?(0,s.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},"0iPL":function(t,e,i){},"0xGk":function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"d",function(){return o}),i.d(e,"e",function(){return r}),i.d(e,"f",function(){return l}),i.d(e,"c",function(){return c}),i.d(e,"b",function(){return u});var s=i("f0Pt"),n=i.n(s);function a(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/addsort",t)}function o(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsortinfo",t)}function r(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsortinfoall",t)}function l(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsortinfoone",t)}function c(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/editsortinfo",t)}function u(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/deletesort",t)}},"5dF6":function(t,e,i){"use strict";i.r(e);var s=[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("商品名称"),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("商品编码"),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("商品分类"),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("供应商"),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("商品数量"),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("库存上线"),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("库存下线"),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("商品进价"),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("商品售价"),e("span",{staticStyle:{color:"red"}},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hellpWrap1"},[e("img",{staticClass:"hellpImg",attrs:{src:i("dqO4"),alt:""}}),this._v(" "),e("span",{staticClass:"hellpB"},[this._v("使用帮助")])])}],n=i("/umX"),a=i.n(n),o=(i("f0Pt"),i("X4fA")),r=(i("a/LZ"),i("0xGk")),l=i("prnK"),c=i("xA6U"),u=i("iVKg"),d={name:"registered",data:function(){return{dialogVisible:!1,inprice:"",outprice:"",maxnums:"",minnums:"",nums:"",format:"",code:"",sort:"",sorts:[],supplier:"",suppliers:[],name:"",remark:"",loading:!1}},mounted:function(){this.getsortinfoall(),this.getsupplierall()},computed:{},methods:{getsortinfoall:function(){var t=this,e={role:Object(o.a)(),uid:Object(o.d)(),pid:Object(o.f)()};Object(r.e)(e).then(function(e){e.data.forEach(function(e){t.sorts.push({value:e.id,label:e.name})})}).catch(function(t){console.log(t)})},getsupplierall:function(){var t=this,e={role:Object(o.a)(),uid:Object(o.d)(),pid:Object(o.f)()};Object(l.d)(e).then(function(e){e.data.forEach(function(e){t.suppliers.push({value:e.id,label:e.name})})}).catch(function(t){console.log(t)})},handleLogin:function(){if(""!=this.name&&""!=this.inprice&&""!=this.outprice&&""!=this.nums&&""!=this.format&&""!=this.sort&&""!=this.supplier){var t=/^\+?[1-9][0-9]*$/;if(t.test(this.nums)&&t.test(this.maxnums)&&t.test(this.minnums))if(Number(this.maxnums)<Number(this.minnums))this.$message({message:"库存上线不得小于库存下线",type:"warning"});else if(Number(this.outprice)<Number(this.inprice))this.$message({message:"售价不得小于进价",type:"warning"});else{var e=this,i=a()({name:e.name,inprice:e.inprice,outprice:e.outprice,remark:e.remark,uid:Object(o.d)(),pid:Object(o.f)(),maxnums:e.maxnums,minnums:e.minnums,nums:e.nums,format:e.format,code:e.code,sort:e.sort,supplier:e.supplier,role:Object(o.a)()},"code",e.code);Object(c.a)(i).then(function(t){if(200==t.data.code){e.$message({message:"恭喜您！添加商品成功！",type:"success"});var i={outprice:Number(e.inprice)*Number(e.nums),numtype:4,uid:Object(o.d)()};Object(u.b)(i).then(function(t){t.data}),e.$router.push({path:"/goods/goodslist"})}else e.$message.error("对不起！添加商品失败！")}).catch(function(t){e.$message.error("对不起！添加商品失败！")})}else this.$message({message:"请您输入正确的数量",type:"warning"})}else this.$message({message:"请您填写完整信息",type:"warning"})}}},p=(i("NAG9"),i("ZrdR")),f=Object(p.a)(d,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("div",{staticClass:"tab"},[i("div",{staticClass:"addB"},[t._v("新增商品")]),t._v(" "),i("div",{staticClass:"biao",staticStyle:{padding:"0","justify-content":"space-between"}},[i("div",{staticClass:"biao"},[t._m(0),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{"prefix-icon":"el-icon-share",placeholder:"请输入商品名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),t._v(" "),i("div",{staticClass:"biao"},[t._m(1),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品编码","prefix-icon":"el-icon-share"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1)]),t._v(" "),i("div",{staticClass:"biao",staticStyle:{padding:"0"}},[i("div",{staticClass:"biao"},[t._m(2),t._v(" "),i("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:"请选择商品分类"},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}},t._l(t.sorts,function(t){return i("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),i("div",{staticClass:"biao"},[t._m(3),t._v(" "),i("el-select",{staticStyle:{width:"60%"},attrs:{placeholder:"请选择供应商"},model:{value:t.supplier,callback:function(e){t.supplier=e},expression:"supplier"}},t._l(t.suppliers,function(t){return i("el-option",{attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),i("div",{staticClass:"biao",staticStyle:{padding:"0"}},[i("div",{staticClass:"biao"},[i("span",[t._v("商品规格")]),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品规格","prefix-icon":"el-icon-edit-outline"},model:{value:t.format,callback:function(e){t.format=e},expression:"format"}},[i("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),i("div",{staticClass:"biao"},[t._m(4),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品数量","prefix-icon":"el-icon-edit-outline"},model:{value:t.nums,callback:function(e){t.nums=e},expression:"nums"}},[i("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1)]),t._v(" "),i("div",{staticClass:"biao",staticStyle:{padding:"0"}},[i("div",{staticClass:"biao"},[t._m(5),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品库存上线","prefix-icon":"el-icon-edit"},model:{value:t.maxnums,callback:function(e){t.maxnums=e},expression:"maxnums"}},[i("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),i("div",{staticClass:"biao"},[t._m(6),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品库存下线","prefix-icon":"el-icon-edit"},model:{value:t.minnums,callback:function(e){t.minnums=e},expression:"minnums"}},[i("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1)]),t._v(" "),i("div",{staticClass:"biao",staticStyle:{padding:"0"}},[i("div",{staticClass:"biao"},[t._m(7),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品进价","prefix-icon":"el-icon-edit-outline"},model:{value:t.inprice,callback:function(e){t.inprice=e},expression:"inprice"}},[i("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1),t._v(" "),i("div",{staticClass:"biao"},[t._m(8),t._v(" "),i("el-input",{staticStyle:{width:"60%"},attrs:{placeholder:"请输入商品售价","prefix-icon":"el-icon-edit-outline"},model:{value:t.outprice,callback:function(e){t.outprice=e},expression:"outprice"}},[i("i",{staticClass:"el-icon-s-goods",attrs:{slot:"prefix"},slot:"prefix"})])],1)]),t._v(" "),i("div",{staticClass:"biao"},[i("span",[t._v("商品描述")]),t._v(" "),i("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:2,placeholder:"请输入商品描述"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1),t._v(" "),i("el-button",{staticClass:"submit",attrs:{loading:t.loading,type:"primary"},nativeOn:{click:function(e){return e.preventDefault(),t.handleLogin(e)}}},[t._v("确 认")])],1),t._v(" "),i("drawer",{attrs:{title:"添加商品页 - 使用说明",visible:t.dialogVisible,width:"500px","close-on-click-modal":""},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",{staticClass:"smWrap"},[i("div",{staticClass:"smB"},[t._v("概述：此页为添加商品功能页")]),t._v(" "),i("div",{staticClass:"smContent"},[i("span",{staticClass:"smContentB"},[t._v("字段说明：")]),t._v(" "),i("div",{staticClass:"smContentC"},[i("div",[t._v('1."商品名称"：该商品的名称')]),t._v(" "),i("div",[t._v('2."商品编码"：该商品的编码')]),t._v(" "),i("div",[t._v('3."商品分类"：该商品的所属分类(需要在"分类管理"模块添加分类)')]),t._v(" "),i("div",[t._v('4."供应商"：该商品的所属供应商(需要在"供应商/添加供应商"模块添加供应商)')]),t._v(" "),i("div",[t._v('5."商品规格"：该商品的规格(选填)')]),t._v(" "),i("div",[t._v('6."商品数量"：该商品的入库数量')]),t._v(" "),i("div",[t._v('7."库存上线"：该商品的库存上线(用于库存预警)')]),t._v(" "),i("div",[t._v('8."库存下线"：该商品的库存下线(用于库存预警)')]),t._v(" "),i("div",[t._v('9."商品进价"：该商品的进价(单位：元)')]),t._v(" "),i("div",[t._v('10."商品售价"：该商品的预售价格(单位：元)')]),t._v(" "),i("div",[t._v('10."商品描述"：该商品的描述信息(选填)')])])]),t._v(" "),i("div",{staticClass:"smContent"},[i("span",{staticClass:"smContentB"},[t._v("备注：")]),t._v(" "),i("div",{staticClass:"smContentC"},[i("div",[t._v('1.带"*"均为必填项')])])])])]),t._v(" "),i("div",{staticClass:"hellpWrap",staticStyle:{top:"100px"},on:{click:function(e){t.dialogVisible=!0}}},[t._m(9)])],1)},s,!1,null,"cdcce72e",null);f.options.__file="addgoods.vue";e.default=f.exports},"9dlP":function(t,e,i){t.exports={default:i("n92x"),__esModule:!0}},NAG9:function(t,e,i){"use strict";var s=i("0iPL");i.n(s).a},cHfS:function(t,e,i){var s=i("ovlw");s(s.S+s.F*!i("8wne"),"Object",{defineProperty:i("cP0M").f})},dqO4:function(t,e,i){t.exports=i.p+"static/img/hellp.6fec94b.jpg"},n92x:function(t,e,i){i("cHfS");var s=i("rhgp").Object;t.exports=function(t,e,i){return s.defineProperty(t,e,i)}},prnK:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"e",function(){return o}),i.d(e,"d",function(){return r}),i.d(e,"c",function(){return l}),i.d(e,"b",function(){return c});var s=i("f0Pt"),n=i.n(s);function a(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=supplier/addsupplier",t)}function o(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=supplier/getsupplierinfo",t)}function r(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=goods/getsupplierall",t)}function l(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=supplier/editesupplierinfo",t)}function c(t){return n.a.post("http://www.wuzhi1688.com/yii2/frontend/web/?r=supplier/deletesupplier",t)}}}]);